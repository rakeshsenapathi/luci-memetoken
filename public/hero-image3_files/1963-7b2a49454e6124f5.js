"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1963,4180],{2485:function(e,t,n){n.d(t,{x:function(){return N}});var r=n(97620),i=n(73360),o=n(7761),a=n(72215),s=n(93981),c=n(90342),l=n(63956),u=n(54423),d=n(29541),f=["width","height"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e){var t=e.width,n=void 0===t?13:t,r=e.height,i=void 0===r?17:r,o=(0,u.Z)(e,f);return(0,d.jsx)("svg",x(x({height:i,width:n,viewBox:"0 0 17 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o),{},{children:(0,d.jsx)("path",{d:"M14.209 1.01575C13.1844 0.545603 12.0856 0.19922 10.9368 0.000832211C10.9159 -0.00299661 10.895 0.00657182 10.8842 0.0257091C10.7429 0.277042 10.5864 0.604926 10.4768 0.862641C9.24113 0.677653 8.01183 0.677653 6.80153 0.862641C6.6919 0.599197 6.52969 0.277042 6.38774 0.0257091C6.37697 0.00721034 6.35607 -0.0023581 6.33515 0.000832211C5.18695 0.198586 4.08819 0.544969 3.06292 1.01575C3.05404 1.01957 3.04644 1.02596 3.04139 1.03425C0.957261 4.14789 0.386331 7.185 0.66641 10.1845C0.667677 10.1991 0.675915 10.2132 0.687321 10.2221C2.06237 11.2319 3.39434 11.8449 4.70157 12.2513C4.72249 12.2577 4.74466 12.25 4.75797 12.2328C5.0672 11.8105 5.34285 11.3652 5.57919 10.897C5.59313 10.8696 5.57982 10.837 5.55131 10.8262C5.11409 10.6603 4.69776 10.4581 4.29729 10.2285C4.26561 10.21 4.26308 10.1647 4.29222 10.143C4.37649 10.0798 4.46079 10.0141 4.54126 9.94777C4.55582 9.93566 4.57611 9.9331 4.59322 9.94075C7.22418 11.142 10.0725 11.142 12.6724 9.94075C12.6895 9.93247 12.7098 9.93502 12.725 9.94714C12.8055 10.0135 12.8898 10.0798 12.9747 10.143C13.0038 10.1647 13.0019 10.21 12.9702 10.2285C12.5698 10.4626 12.1534 10.6603 11.7156 10.8255C11.6871 10.8364 11.6744 10.8696 11.6883 10.897C11.9298 11.3646 12.2054 11.8098 12.5089 12.2321C12.5216 12.25 12.5444 12.2577 12.5653 12.2513C13.8789 11.8449 15.2109 11.2319 16.5859 10.2221C16.5979 10.2132 16.6056 10.1998 16.6068 10.1851C16.942 6.71739 16.0454 3.70518 14.2299 1.03488C14.2255 1.02596 14.2179 1.01957 14.209 1.01575ZM5.97208 8.3581C5.17998 8.3581 4.52731 7.63089 4.52731 6.73781C4.52731 5.84473 5.16732 5.11752 5.97208 5.11752C6.78315 5.11752 7.4295 5.85111 7.41682 6.73781C7.41682 7.63089 6.77681 8.3581 5.97208 8.3581ZM11.3138 8.3581C10.5218 8.3581 9.8691 7.63089 9.8691 6.73781C9.8691 5.84473 10.5091 5.11752 11.3138 5.11752C12.1249 5.11752 12.7713 5.85111 12.7586 6.73781C12.7586 7.63089 12.1249 8.3581 11.3138 8.3581Z",fill:"currentColor"})}))},v=n(86150),m=n(57917),g=n(24201),b=n(25546),w=n(85394),j=n(44180),y=n(59394),k=n(54524),C=n(57731),S=n(88951),N=function(e){var t=e.toastProps,n=t.closeToast,l=t.toastId,u=e.className,f=e.customTitle,p=(0,m.Sk)(l.toString()),x=p.tx,N=p.errorTitle,O=p.description,T=p.shouldShowFeedbackLink,P=p.shouldShowUpdatePriorityFee,_=p.customTitle,M=p.shouldShowShareLink,F=(0,a.jB)().asLegacyTransaction,E=(0,c.gs)().toggle,I=s.useState(!1),Z=(0,r.Z)(I,2),D=Z[0],L=Z[1],A=(0,m.kH)(l.toString()),R=A.isWaitingWalletToSign,B=A.isProcessing,H=A.isTxSuccess,W=A.isTxProcessed,U=A.isTxFailed,V=(0,s.useRef)(null);if((0,s.useEffect)((function(){var e,t;(x&&(U||H)&&!V.current&&(V.current=new b.o6(n,5e3)),D)?null===(e=V.current)||void 0===e||e.pause():null===(t=V.current)||void 0===t||t.resume()}),[H,U,n,x,D]),!x&&!N)return null;var G=_||f||(R?o.ag._("Waiting For Wallet To Sign Transaction"):B?o.ag._("Processing Transaction"):W?o.ag._("Confirming Transaction"):H?o.ag._("Transaction Confirmed"):o.ag._("Transaction Failed{0}",{0:N&&" (".concat(N,")")}));return(0,d.jsxs)("div",{className:(0,g.cn)("bg-white dark:bg-black dark:text-white px-6 py-5 shadow-lg rounded-lg max-w-[420px]",u),children:[(0,d.jsx)("div",{className:"flex justify-between items-center mb-1",children:(0,d.jsx)("div",{className:"text-lg font-semibold",children:G})}),(0,d.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,d.jsxs)("div",{className:"text-[13px] leading-4 text-black-50 dark:text-white-50",children:[O,!F&&N&&!x&&(0,d.jsx)("div",{children:(0,d.jsx)(i.cC,{id:"This wallet might not support Versioned Transaction, turn it off and try again."})}),(0,d.jsx)("div",{className:"text-xs flex flex-col text-v2-lily/70",children:function(){if(!x)return null;var e=x.status,t=x.txid,n=x.additionalSteps;return"fail-no-txid"===e?(0,d.jsx)("span",{children:x.stepText}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex space-x-2.5 mt-2",children:[(B||R)&&(0,d.jsx)(w.Z,{width:20,height:20}),"unknown"===e&&(0,d.jsx)(C.Z,{width:20,height:20}),"fail"===e&&(0,d.jsx)(k.Z,{width:20,height:20}),"success"===e&&(0,d.jsx)(S.Z,{width:20,height:20}),(0,d.jsxs)("span",{className:"my-auto inline-block overflow-hidden",children:[t?(0,d.jsx)(y.Z,{txid:t}):null,x.stepText&&(0,d.jsxs)(d.Fragment,{children:[t&&(0,d.jsx)("span",{children:":"}),(0,d.jsx)("span",{className:(0,g.cn)(t&&"pl-0.5"),children:x.stepText})]})]})]}),null===n||void 0===n?void 0:n.map((function(e,t){return(0,d.jsx)("div",{children:e},t)}))]})}()})]}),M&&null!==x&&void 0!==x&&x.txid?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("button",{type:"button",onClick:function(){return L(!0)},className:(0,g.cn)("rounded-lg flex px-3 py-2  fill-current space-x-2 text-xs font-semibold items-center w-auto self-start border border-white/10","hover:bg-v2-primary/5 hover:border-v2-primary/10 hover:text-v2-primary"),children:[(0,d.jsx)("span",{children:o.ag._("Share")}),(0,d.jsx)(v.Z,{})]}),(0,d.jsx)(j.default,{txid:x.txid,open:D,onClose:function(){return L(!1)}})]}):null,P&&(0,d.jsx)("div",{className:"flex items-center space-x-2",children:(0,d.jsx)("button",{className:"bg-v2-background border hover:dark:border-v2-primary/50 hover:text-v2-primary dark:border-white/[.35] py-1 px-3 rounded flex items-center text-xs dark:text-white/35 w-fit",onClick:function(){n(),E()},children:(0,d.jsx)(i.cC,{id:"Update Priority Fee"})})}),T?(0,d.jsx)("div",{className:"flex items-center space-x-2",children:(0,d.jsxs)("a",{className:"bg-transparent border border-black/[.35] dark:border-white/[.35] py-1 px-2 rounded flex items-center text-xs dark:text-white/50 text-black/50 w-fit",href:"https://discord.gg/jup",target:"_blank",rel:"noreferrer",children:[(0,d.jsx)("div",{className:"mr-1 w-4 h-4 text-black/50 dark:text-white/50",children:(0,d.jsx)(h,{width:16,height:16})}),(0,d.jsx)(i.cC,{id:"Discord"})]})}):null]})]})}},69825:function(e,t,n){var r=n(54423),i=n(93981),o=n(87821),a=n(72215),s=n(24201),c=n(25546),l=n(29541),u=["testId","name","onChange","onChangeWithoutEffect","customWithValueLimit","value","disabled","decimals","onMouseOver","onFocus","onKeyDown","onPaste","className","placeholder","onBlur","suffix","max","autofocus","style"],d=i.forwardRef((function(e,t){e.testId;var n=e.name,d=e.onChange,f=e.onChangeWithoutEffect,p=e.customWithValueLimit,x=e.value,h=e.disabled,v=void 0!==h&&h,m=e.decimals,g=e.onMouseOver,b=e.onFocus,w=e.onKeyDown,j=e.onPaste,y=e.className,k=e.placeholder,C=e.onBlur,S=e.suffix,N=e.max,O=e.autofocus,T=void 0!==O&&O,P=(e.style,(0,r.Z)(e,u)),_=(0,a.MG)().constants.MAX_INPUT_LIMIT,M=i.useMemo((function(){return P.isAllowed||function(e){var t=e.floatValue;return p?!t||p(t):N?!t||t<=Number(N):!t||t<=_}}),[P.isAllowed,p,N,_]),F=String(x||"").length>=9?"text-base md:text-xl":"text-xl",E=","===c.A5?".":",",I=","===c.A5?",":".";return(0,l.jsx)(o.Z,{onKeyDown:w,onPaste:j,autoComplete:"off",name:n,inputMode:"decimal",onBlur:C,"data-lpignore":"true",decimalSeparator:I,value:null!==x&&void 0!==x?x:"",allowedDecimalSeparators:[".",","],thousandSeparator:E,decimalScale:m,allowNegative:!1,allowLeadingZeros:!1,disabled:v,isAllowed:M,onChange:function(e){var t=e.target.value,n=(0,c.jj)(t).replaceAll(",","");f&&f(n)},onValueChange:function(e){e.value!==(null===x||void 0===x?void 0:x.toString())&&d&&d(e)},isNumericString:!0,placeholder:v?"":null!==k&&void 0!==k?k:"0.00",className:(0,s.cn)("h-full w-full bg-transparent disabled:cursor-not-allowed disabled:opacity-100 disabled:text-black dark:text-white text-right font-semibold dark:placeholder:text-white/25",F,y),onMouseOver:g,onFocus:b,getInputRef:t,suffix:S,autoFocus:T})}));t.Z=d},44180:function(e,t,n){n.r(t);var r=n(27195),i=n(8857),o=n.n(i),a=n(7761),s=n(25224),c=n(93981),l=n(12866),u=n(85216),d=n(85394),f=n(24201),p=n(47222),x=n(19976),h=n(24628),v=n(76442),m=n(29541),g=1e3;t.default=function(e){var t=e.txid,n=e.open,i=e.onClose,b=(0,c.useRef)(null),w=(0,c.useRef)(null);(0,s.O3)(w,(function(){var e;return null===(e=b.current)||void 0===e?void 0:e.close()}));var j=(0,c.useMemo)((function(){return(0,p.cK)(t)}),[t]),y=function(e,t){var n=(0,c.useRef)(0),i=(0,c.useState)(null),a=i[0],s=i[1];return(0,c.useEffect)((function(){s(null)}),[t]),(0,c.useEffect)((function(){function i(){return c.apply(this,arguments)}function c(){return(c=(0,r.Z)(o().mark((function e(){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://stats.jup.ag/transactions/".concat(t));case 3:if(200===(r=e.sent).status){e.next=6;break}throw"Failed to fetch metadata";case 6:return e.next=8,r.json();case 8:a=e.sent,s(a),e.next=20;break;case 12:if(e.prev=12,e.t0=e.catch(0),!(n.current<30)){e.next=20;break}return n.current+=1,e.next=18,(0,x.D)(g);case 18:return e.next=20,i();case 20:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}e&&!a&&i()}),[t,a,e]),a}(n,t),k=(0,c.useMemo)((function(){return t?(0,p.W3)(t):""}),[t]),C=(0,c.useState)(!1),S=C[0],N=C[1],O=(0,c.useState)(""),T=O[0],P=O[1],_=(0,c.useCallback)((function(){k&&(navigator.clipboard.writeText(k),N(!0),setTimeout((function(){N(!1)}),1500))}),[k]),M=function(e,t){var n=(0,c.useRef)(0),i=(0,c.useState)(null),s=i[0],l=i[1],u=(0,c.useState)(null),f=u[0],p=u[1],h=(0,c.useState)(null),v=h[0],b=h[1],w=(0,c.useCallback)((function(){b((0,m.jsxs)("div",{className:"h-full w-full flex flex-col space-y-4 items-center justify-center text-xs flex-wrap",children:[(0,m.jsx)("span",{className:"p-6 text-center",children:a.ag._("Generating Image...")}),(0,m.jsx)(d.Z,{})]}))}),[]),j=(0,c.useCallback)((0,r.Z)(o().mark((function e(){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return r=e.sent,e.next=6,r.blob();case 6:return i=e.sent,a=URL.createObjectURL(i),s=new Promise((function(e,t){var n=new Image;n.src=a,n.onload=function(){l(a),p(i),b(null),e()},n.onerror=t})),e.next=11,s;case 11:e.next=22;break;case 13:if(e.prev=13,e.t0=e.catch(0),w(),!(n.current<30)){e.next=22;break}return n.current+=1,e.next=20,(0,x.D)(g);case 20:console.log("retrying...",n.current),j();case 22:case"end":return e.stop()}}),e,null,[[0,13]])}))),[t,w]);return(0,c.useEffect)((function(){t&&e&&j()}),[t,j,e]),(0,c.useEffect)((function(){n.current>30&&b((0,m.jsxs)("div",{className:"h-full w-full flex flex-col items-center justify-center text-xs flex-wrap p-6",children:[(0,m.jsx)("span",{className:"text-center",children:a.ag._("Failed to generate swap image.")}),(0,m.jsx)("span",{className:"mt-2 text-center",children:a.ag._("Please try again later.")})]}))}),[]),{imageSrc:s,imageBlob:f,errorMessage:v}}(n,j),F=M.imageSrc,E=M.imageBlob,I=M.errorMessage,Z=(0,c.useMemo)((function(){return"undefined"!==typeof window.navigator.share}),[]),D=(0,c.useMemo)((function(){if(!y)return"";var e=new URLSearchParams({text:"I just swapped ".concat(y.inSymbol," for ").concat(y.outSymbol," on Jupiter!"),url:k,via:"JupiterExchange"});return"http://twitter.com/share?".concat(e.toString())}),[k,y]),L=(0,c.useCallback)((function(){if(!y)return"";if(Z){var e=["I just swapped ".concat(y.inSymbol," for ").concat(y.outSymbol," on Jupiter!"),k].join("\n");navigator.share({title:"Jupiter",text:e,files:E?[new File([E],"".concat(y.inSymbol," ").concat(y.outSymbol," Swap.png"),{type:"image/png"})]:void 0}).then((function(){})).catch((function(){}))}}),[y,Z,k,E]),A=(0,c.useCallback)((function(){var e;null===(e=b.current)||void 0===e||e.close(),i()}),[i,b]);(0,c.useEffect)((function(){if(b.current&&(n?b.current.open||b.current.show():b.current.close()),n){var e=b.current;return null===e||void 0===e||e.addEventListener("close",A),function(){null===e||void 0===e||e.removeEventListener("close",A)}}}),[A,n]);var R=(0,c.useCallback)((0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,navigator.clipboard.write([new ClipboardItem({"image/png":E})]);case 5:P(a.ag._("Copied to clipboard!")),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0),P(a.ag._("Failed to copy"));case 12:return e.prev=12,setTimeout((function(){P("")}),1500),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,8,12,15]])}))),[E]);return n?(0,m.jsx)("dialog",{role:"dialog","aria-modal":"true",className:"top-0 left-0 h-full w-full flex items-center justify-center bg-black/25 backdrop-blur-md animate-fade-in cursor-auto",ref:b,children:(0,m.jsxs)("div",{ref:w,className:"max-w-[90wv] max-h-[90vh] w-[326px] rounded-xl overflow-hidden relative",children:[(0,m.jsx)("div",{className:"absolute right-3 top-3 cursor-pointer",onClick:A,children:(0,m.jsx)(l.Z,{width:12,height:12})}),(0,m.jsxs)("div",{className:"bg-tuna rounded-lg shadow-lg",children:[(0,m.jsxs)("div",{className:"h-[184px] w-[326px]",children:[I||null,!I&&F?(0,m.jsx)("img",{src:F,alt:"Share tx ".concat(t),className:"w-full h-full"}):null]}),(0,m.jsxs)("div",{className:"max-h-[50vh] overflow-y-scroll hideScrollbar px-4 py-5 bg-[#1B2229]",children:[Z?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"text-xs text-white/75",children:a.ag._("Share to")}),(0,m.jsx)("div",{className:"mt-2 space-y-2",children:(0,m.jsxs)("button",{onClick:L,className:(0,f.cn)("flex space-x-2 text-xs items-center rounded-lg bg-v2-lily/5 border border-v2-lily/[.15] px-4 py-3 w-full hover:bg-v2-lily/10",I?"!cursor-not-allowed pointer-events-none opacity-50":""),children:[(0,m.jsx)(h.Z,{width:16,height:16}),(0,m.jsx)("div",{className:"font-semibold",children:a.ag._("Share")})]})})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"text-xs text-white/75",children:a.ag._("Copy Image")}),(0,m.jsx)("div",{className:"mt-2 space-y-2",children:(0,m.jsx)("button",{type:"button",disabled:Boolean(I||T),className:(0,f.cn)("flex space-x-2 text-xs items-center rounded-lg bg-v2-lily/5 border border-v2-lily/[.15] px-4 py-3 w-full hover:bg-v2-lily/10",I?"!cursor-not-allowed pointer-events-none opacity-50":""),onClick:R,children:(0,m.jsx)("div",{className:"font-semibold",children:T||a.ag._("Copy Image")})})}),(0,m.jsx)("div",{className:"mt-4 text-xs text-white/75",children:a.ag._("Share to")}),(0,m.jsx)("div",{className:"mt-2 space-y-2",children:(0,m.jsxs)("a",{target:"_blank",href:D,rel:"noopener noreferrer",className:(0,f.cn)("flex space-x-2 text-xs items-center rounded-lg bg-v2-lily/5 border border-v2-lily/[.15] px-4 py-3 w-full hover:bg-v2-lily/10",I?"!cursor-not-allowed pointer-events-none opacity-50":""),children:[(0,m.jsx)(v.wk,{width:16,height:16}),(0,m.jsx)("div",{className:"font-semibold",children:a.ag._("X / Twitter")})]})})]}),(0,m.jsxs)("div",{className:"mt-5 flex items-center justify-between text-xs",children:[(0,m.jsx)("div",{children:a.ag._("or copy swap link")}),(0,m.jsxs)("div",{onClick:_,className:(0,f.cn)("cursor-pointer bg-black/[.35] rounded-lg px-3 py-2  w-[184px]  space-x-2 flex items-center justify-between",I?"!cursor-not-allowed opacity-50":""),children:[(0,m.jsx)("span",{className:"whitespace-nowrap truncate w-[82%] overflow-hidden",children:S?a.ag._("Copied!"):k}),(0,m.jsx)(u.Z,{width:20,height:20})]})]})]})]})]})}):null}},33130:function(e,t,n){n.d(t,{R3:function(){return P}});var r,i=n(54423),o=n(63956),a=n(70107),s=n(27195),c=n(8857),l=n.n(c),u=n(73360),d=n(7761),f=n(7744),p=n(13838),x=n(93981),h=n(35682),v=n(32532),m=n(72215),g=n(27177),b=n(2485),w=n(90342),j=n(57917),y=n(14167),k=n(11421),C=n(29541),S=["title","description"];function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.NONE="NONE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.VERY_HIGH="VERY_HIGH",e.UNSAFE_MAX="UNSAFE_MAX",e.DEFAULT="DEFAULT"}(r||(r={}));var T=function(e){return e.reduce((function(e,t){if("version"in t){var n=t.message.staticAccountKeys.findIndex((function(e){return e.equals(f.ComputeBudgetProgram.programId)}));return e+t.message.compiledInstructions.filter((function(e){return e.programIdIndex!==n})).length}return e+t.instructions.filter((function(e){return!e.programId.equals(f.ComputeBudgetProgram.programId)})).length}),0)},P=function(){var e=(0,g.lm)().toast,t=(0,m.Rc)(),n=(0,m.Os)(),r=(0,j.SR)(),o=r.addNotificationTx,c=r.updateNotificationMetadata,f=r.updateNotificationTxStatus,N=(0,w.gs)(),P=N.userMaxFeeInLamports,_=N.modifyComputeUnitPriceAndLimit,M=N.broadcastMode,F=N.priorityLevel,E=N.isRequestingMaxFee,I=(0,h.ay)({enabled:"priorityFees"!==M}).data,Z=(0,x.useCallback)((function(e,t,n,r,i){if(i)return n;var o=t?"MEDIUM"===e?new p.Z(t.landed50).mul(Math.pow(10,9)).toDP(0).toNumber():"HIGH"===e?new p.Z(t.landed75).mul(Math.pow(10,9)).toDP(0).toNumber():"VERY_HIGH"===e?new p.Z(t.landed95).mul(Math.pow(10,9)).toDP(0).toNumber():null:null;return o?Math.min(o,n):r?Math.min(r,n):n}),[]),D=(0,x.useCallback)(function(){var r=(0,s.Z)(l().mark((function r(p,x,h){var m,g,w,j,N,D,L,A,R,B,H,W,U,V,G,K,q,z,J,X,Y,$,Q,ee,te;return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(g=x.extraSigners,w=x.blockhash,j=x.lastValidBlockHeight,N=x.idl,D=x.idlProgramId,L=x.skipPreflight,n.publicKey&&n.signTransaction&&n.signAllTransactions){r.next=3;break}throw new Error("Wallet not connected");case 3:return A="",R=void 0,B=void 0,r.next=8,_(p,{minimumFee:h.minimumFee,referenceFee:h.referenceFee,requestComputeBudgetLimit:h.requestComputeBudgetLimit});case 8:if(H=null!==(m=h.toastId)&&void 0!==m?m:(0,y.w)(),r.prev=9,W=h.submittingMessage,r.prev=11,g&&g.length>0&&("version"in p?p.sign(g):(U=p).sign.apply(U,(0,a.Z)(g))),e({duration:!1,id:H,render:function(e){return(0,C.jsx)(b.x,O({},e))},closeOnClick:!1}),o(H,{status:"loading",txid:A,stepText:d.ag._("Pending wallet to sign")}),"mixed"!==M&&"jito"!==M){r.next=20;break}if(P){r.next=18;break}throw new Error("Reference fee is required for mixed/jito mode");case 18:V=Z(F,I,P,h.referenceFee,E),B=(0,v.AC)({payer:n.publicKey,lamports:String(V),blockhash:w,lastValidBlockHeight:j});case 20:return G=[p,B].filter(Boolean),K=T(G),r.next=24,n.signAllTransactions(G);case 24:q=r.sent,p=q[0],B&&(B=q[1]),A=(0,v.o$)(p),(z=T(q))!==K&&(0,k.Kz)("User transaction has been modified",{before:K,after:z,txid:A}),r.next=38;break;case 32:return r.prev=32,r.t0=r.catch(11),o(H,{status:"fail-no-txid",txid:"",stepText:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{children:r.t0.message}),(0,C.jsx)(u.cC,{id:"Refresh browser if problem persists"})]}),error:r.t0}),c(H,{customTitle:d.ag._("Wallet signing failed")}),e({duration:5e3,id:H,render:function(e){return(0,C.jsx)(b.x,O({},e))},closeOnClick:!1}),r.abrupt("return",{success:!1,error:r.t0});case 38:return o(H,{status:"loading",txid:A,stepText:W}),J=!1,r.next=42,new Promise(function(){var n=(0,s.Z)(l().mark((function n(r,i){var o,a,s;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.confirmTransaction({signature:A,blockhash:w,lastValidBlockHeight:j},"processed").then((function(e){J||e.value.err||(f(H,{status:"processed",txid:A,stepText:W}),h.autoResolveOnProcessed&&setTimeout((function(){return r({success:!1,status:"unknown",txid:A})}),1e3))})).catch((function(e){i(e)})),e({duration:!1,id:H,render:function(e){return(0,C.jsx)(b.x,O({},e))},closeOnClick:!1}),h.onSending&&h.onSending(),n.next=5,(0,v.ie)({connection:t,blockhash:w,lastValidBlockHeight:j,idl:N,idlProgramId:D,signedTransaction:p,skipPreflight:null===L||void 0===L||L,broadcastMode:M,jitoTipTx:B});case 5:if(R=n.sent,J=!0,!("error"in R)){n.next=9;break}return n.abrupt("return",i(R.error));case 9:return o="resolveSuccessTitleAndDescription"in h?h.resolveSuccessTitleAndDescription(R.transactionResponse,R.txid):{title:h.successMessage,description:""},a=o.title,s=o.description,c(H,{customTitle:a,description:s}),f(H,{status:"success",stepText:null}),n.abrupt("return",r({success:!0,txid:A,transactionResponse:R.transactionResponse}));case 13:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}());case 42:if(!("error"in(X=r.sent))){r.next=45;break}throw X;case 45:return r.abrupt("return",X);case 48:return r.prev=48,r.t1=r.catch(9),Y=d.ag._("Transaction failed"),r.t1 instanceof v.qw&&(Y=r.t1.message),$="resolveErrorTitleAndDescription"in h?h.resolveErrorTitleAndDescription(r.t1,R):{title:h.errorMessage,description:Y},Q=$.title,ee=$.description,te=(0,i.Z)($,S),c(H,O({customTitle:Q,description:ee},te)),r.t1.txid?f(H,{status:"fail",error:r.t1,stepText:""}):f(H,{status:"fail-no-txid",error:r.t1,stepText:""}),r.abrupt("return",{success:!1,txid:A,error:r.t1});case 56:case"end":return r.stop()}}),r,null,[[9,48],[11,32]])})));return function(e,t,n){return r.apply(this,arguments)}}(),[E,P,Z,n,_,o,e,M,I,F,c,t,f]);return D}},57917:function(e,t,n){n.d(t,{SR:function(){return x},Sk:function(){return f},kH:function(){return p}});var r=n(63956),i=n(40993),o=n(9364),a=n(3011),s=n(93981);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={tx:void 0,errorTitle:"",shouldShowFeedbackLink:!1,shouldShowUpdatePriorityFee:!1,shouldShowShareLink:!1},d=(0,o.cn)({}),f=function(e){return(0,a.Dv)(d,{store:i.e_})[e]||u},p=function(e){var t=f(e).tx;return(0,s.useMemo)((function(){return{isWaitingWalletToSign:(!t||"loading"===(null===t||void 0===t?void 0:t.status))&&!(null!==t&&void 0!==t&&t.txid),isProcessing:"loading"===(null===t||void 0===t?void 0:t.status)&&t.txid||(null===t||void 0===t?void 0:t.hasAdditionalPendingSteps),isTxSuccess:"success"===(null===t||void 0===t?void 0:t.status),isTxProcessed:"processed"===(null===t||void 0===t?void 0:t.status),isTxFailed:"fail"===(null===t||void 0===t?void 0:t.status)||"fail-no-txid"===(null===t||void 0===t?void 0:t.status)}}),[t])},x=function(){var e=(0,a.b9)(d,{store:i.e_}),t=(0,s.useCallback)((function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e((function(e){return l(l({},e),{},(0,r.Z)({},t,l(l(l(l({},u),e[t]),i),{},{tx:n})))}))}),[e]),n=(0,s.useCallback)((function(t){e((function(e){return e[t]=l({},u),e}))}),[e]);return{addNotificationTx:t,updateNotificationTxStatus:(0,s.useCallback)((function(t,n,r){e((function(e){var i,o=null===e||void 0===e||null===(i=e[t])||void 0===i?void 0:i.tx;return o&&(o=l(l(l({},o),n),{},{hasAdditionalPendingSteps:null===r||void 0===r?void 0:r.hasAdditionalPendingSteps,additionalSteps:null===r||void 0===r?void 0:r.additionalSteps}),e[t].tx=o,"fail"!==n.status&&"fail-no-txid"!==n.status||(e[t].shouldShowFeedbackLink=!0),"undefined"!==typeof(null===r||void 0===r?void 0:r.shouldShowFeedbackLink)&&(e[t].shouldShowFeedbackLink=null===r||void 0===r?void 0:r.shouldShowFeedbackLink)),l({},e)}))}),[e]),resetNotificationMultipleTxs:n,updateNotificationMetadata:(0,s.useCallback)((function(t,n){e((function(e){return l(l({},e),{},(0,r.Z)({},t,l(l({},e[t]),n)))}))}),[e])}}},14167:function(e,t,n){n.d(t,{w:function(){return r}});var r=function(){return(1e5*Math.random()).toFixed(0)}},47222:function(e,t,n){n.d(t,{L5:function(){return o},W3:function(){return i},cK:function(){return r}});var r=function(e){var t="api/swap/".concat(e),n=a();if(n.includes("vercel.app")){var r=n.replace("jupiter","dynamic-og");return"".concat(r,"/").concat(t)}return"https://og.jup.ag/".concat(t)},i=function(e){return"".concat(a(),"/share/").concat(e)},o=function(e){var t=e.inSymbol,n=e.outSymbol,r=e.amount,i=e.baseUrl;return"".concat(i,"/swap/").concat(t,"-").concat(n,"?inAmount=").concat(r)},a=function(){var e,t="jupiter-git-mainnet-wowcats.vercel.app";return t=null!==(e=t)&&void 0!==e&&e.includes("vercel.app")?"https://".concat("jupiter-git-mainnet-wowcats.vercel.app"):"https://jup.ag",window.location.origin}},40993:function(e,t,n){n.d(t,{e_:function(){return r.e_},iw:function(){return r.iw},uo:function(){return r.uo},yz:function(){return r.yz}});var r=n(53024)},56720:function(e,t,n){n.d(t,{Gm:function(){return r.Gm},WO:function(){return r.WO}});var r=n(84522);n(56155)},53024:function(e,t,n){n.d(t,{e_:function(){return r.e_},iw:function(){return r.iw},o_:function(){return r.o_},uo:function(){return r.uo},yz:function(){return r.yz}});var r=n(32332);n(56155)}}]);
//# sourceMappingURL=1963-7b2a49454e6124f5.js.map