"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[994],{51232:function(e,t,n){n.d(t,{w_:function(){return o}});var r=n(63956);n(65558),n(13838),n(11421);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e){return Object.keys(e).reduce((function(t,n){var i=e[n];return i?a(a({},t),{},(0,r.Z)({},n,"string"===typeof i?i:"function"===typeof i.toString?i.toString():"")):t}),{})}},97014:function(e,t,n){var r=n(7761),i=n(72215),a=n(25224),o=n(93981),s=n(99438),l=n(91799),c=n(26486),u=n(29541);t.Z=function(e){var t=e.shouldShowWarning,n=(0,i.W2)(),d=(0,o.useMemo)((function(){return n&&n.feeBps?n.feeBps/100+"%":null}),[n]);return null!==n&&void 0!==n&&n.referrerAccount&&null!==n&&void 0!==n&&n.feeBps?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{children:r.ag._("You have been referred, referral fees may be incurred on your swap, supporting your referrer.")}),(0,u.jsx)(l.Z,{}),(0,u.jsxs)("div",{className:"flex justify-between mt-2",children:[(0,u.jsx)("p",{className:"text-v2-lily font-semibold",children:r.ag._("Referred by")}),(0,u.jsx)(c.Z,{address:n.referrerAccount.toString()})]}),(0,u.jsxs)("div",{className:"flex justify-between mt-2",children:[(0,u.jsx)("p",{className:(0,a.cn)("text-v2-lily font-semibold"),children:r.ag._("Referral Fees")}),(0,u.jsx)("span",{className:(0,a.cn)(t?"text-warning font-semibold":""),children:d})]}),(0,u.jsx)(s.Z,{onClick:n.removeReferrer,className:"mt-5",size:"xs",children:"Remove Referrer"})]}):null}},41264:function(e,t,n){n.d(t,{Z:function(){return d},i:function(){return u}});var r=n(97620),i=n(88932),a=n(93981),o=n(48645),s=n(13170),l=n(29541),c=function(e){var t=e.percentage,n=e.strokeWidth,r=void 0===n?2:n,i=e.sqSize,a=void 0===i?14:i,o=(a-r)/2,s="0 0 ".concat(a," ").concat(a),c=o*Math.PI*2,u=c-c*t/100;return(0,l.jsxs)("svg",{width:a,height:a,viewBox:s,children:[(0,l.jsx)("circle",{className:"fill-transparent stroke-black-10 dark:stroke-white-75",cx:a/2,cy:a/2,r:o,strokeWidth:"".concat(r,"px")}),(0,l.jsx)("circle",{className:"fill-transparent stroke-black",strokeLinecap:"round",strokeLinejoin:"round",cx:a/2,cy:a/2,r:o,strokeWidth:"".concat(r+.4,"px"),transform:"rotate(-90 ".concat(a/2," ").concat(a/2,")"),style:{strokeDasharray:c,strokeDashoffset:u}})]})},u=function(e){var t=e.isSubmitting,n=e.lastRefreshTimestamp,l=e.value,c=e.refresh,u=a.useState((0,i.Z)((new Date).getTime(),n)),d=(0,r.Z)(u,2),p=d[0],m=d[1];return(0,o.Z)((function(){if(!t){var e=(0,i.Z)((new Date).getTime(),n);m(e),e>=s.GJ&&(l||0)>0&&c()}}),1e3),{timeDiff:p}},d=function(e){var t=e.lastRefreshTimestamp,n=e.isSubmitting,r=e.value,i=e.refresh,o=u({isSubmitting:n,lastRefreshTimestamp:t,value:r,refresh:i}).timeDiff,d=a.useCallback((function(e){e.stopPropagation(),i()}),[i]);return(0,l.jsx)("div",{className:"cursor-pointer",onClick:d,children:(0,l.jsx)(c,{sqSize:10,percentage:o/s.GJ*100})})}},57715:function(e,t,n){n.d(t,{ZP:function(){return w},Kc:function(){return y},BE:function(){return j}});var r=n(73360),i=n(7761),a=n(93981),o=n(13215),s=n(24201),l=n(96065),c=n(70602),u=n(72215),d=n(25546),p=n(70006),m=n(39268),f=n.n(m),x=n(64138),v=n(29541),h=f()((function(){return n.e(7829).then(n.bind(n,77829))}),{loading:function(){return(0,v.jsx)(x.Z,{width:600,height:380})},loadableGenerated:{webpack:function(){return[77829]}}}),g=f()((function(){return n.e(6170).then(n.bind(n,26170))}),{loading:function(){return(0,v.jsx)(x.Z,{width:600,height:380})},loadableGenerated:{webpack:function(){return[26170]}}}),b=function(e){var t=e.control,n=(0,o.qo)({control:t,name:"selectedRoute"}),r="Graphviz"===a.useMemo((function(){var e;return null===(e=localStorage)||void 0===e?void 0:e.getItem("preferred-graph")}),[])?g:h;return(0,v.jsx)(r,{quoteResponse:null===n||void 0===n?void 0:n.quoteResponse})},j={"Orca V1":"Orca","Orca V2":"Orca","Lifinity V2":"Lifinity","Lifinity V1":"Lifinity",Whirlpool:"Orca","Raydium CLMM":"Raydium",Mercurial:"Meteora"},y=function(e){var t=0,n=0,r=new Set,i=new Set,a=new Set;return e.forEach((function(e){var o=e.swapInfo,s=o.inputMint,l=o.outputMint,c=o.label;i.has(s)?t+=1:i.add(s),a.has(s+l)||(n+=1,a.add(s+l)),r.add(j[c]||c)})),{splits:t,hops:n,labels:r}},w=function(e){var t=e.loading,n=e.control,m=(0,p.JT)().openModal,f=(0,u.jB)().onlyDirectRoutes,x=(0,o.qo)({control:n,name:"selectedRoute"}),h=a.useMemo((function(){return x?y(x.quoteResponse.routePlan):null}),[x]),g=(0,d.Nr)(t,100),j=(0,d.Nr)(Boolean(!x||!h),100);return(0,v.jsxs)("button",{type:"button",className:(0,s.cn)("flex space-x-1 items-center group w-full relative transition-all overflow-hidden",j?"h-0 opacity-0":"h-[22px] opacity-100",g?"blur-xs opacity-50 pointer-events-none":"opacity-100"),onClick:function(){m((0,v.jsx)(b,{control:n}),{noCloseButton:!1,containerStyle:{background:"none"}})},children:[(0,v.jsx)("div",{className:(0,s.cn)("rounded-full border border-v2-primary","group-hover:from-[#00D1DF] group-hover:to-[#00D1DF]","dark:group-hover:from-v2-primary/25 dark:group-hover:to-v2-primary/25"),children:(0,v.jsx)("span",{className:(0,s.cn)("rounded-[100px] flex space-x-1 items-center text-xxs bg-[rgba(199,242,132,0.1)]","group-hover:bg-[#e5fafc]","dark:group-hover:bg-[#3a474f] group-hover:bg-none"),children:(0,v.jsxs)("span",{className:(0,s.cn)("flex items-center px-2 py-0.5 text-[rgba(199,242,132,1)] font-semibold whitespace-nowrap","group-hover:text-v2-primary/50 dark:group-hover:text-v2-primary"),children:[(0,v.jsx)(c.Z,{className:"mb-[1px] text-[rgba(199,242,132,1)] group-hover:text-v2-primary/50 dark:group-hover:text-v2-primary"}),f?i.ag._("Direct Route"):(0,v.jsxs)(v.Fragment,{children:[((null===h||void 0===h?void 0:h.splits)||0)>0&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(r.cC,{id:"{0, plural, one {# Split} other {# Splits}}",values:{0:null===h||void 0===h?void 0:h.splits}})," +"," "]}),(0,v.jsx)(r.cC,{id:"{0, plural, one {# Hop} other {# Hops}}",values:{0:null===h||void 0===h?void 0:h.hops}})]})]})})}),(0,v.jsxs)("div",{className:"space-x-2 items-center justify-between w-full flex",children:[(0,v.jsx)("span",{className:"text-black-50 dark:text-white-50 text-xs group-hover:text-v2-primary/50 dark:group-hover:text-v2-primary text-left max-w-[120px] md:max-w-[200px] truncate",children:(null===h||void 0===h?void 0:h.labels)&&(0,v.jsx)(r.cC,{id:"via {0}",values:{0:Array.from(h.labels).join(", ")}})}),(0,v.jsx)(l.Z,{className:"ml-auto text-black-35 dark:text-white-35 group-hover:text-v2-primary/50 dark:group-hover:text-v2-primary"})]})]})}},80994:function(e,t,n){n.d(t,{Z:function(){return Qt}});var r=n(27195),i=n(70107),a=n(97620),o=n(63956),s=n(8857),l=n.n(s),c=n(73360),u=n(7761),d=n(1517),p=n(32532),m=n(72215),f=n(27177),x=n(7744),v=n(13838),h=n(9319),g=n.n(h),b=n(93981),j=n(13215),y=n(59644),w=n(44495),k=n(13170),S=n(42082),N=n(89521),T=n(22466),P=n(24201),C=n(25546),M=n(99438),I=n(56100),A=n(82625),O=n(69825),Z=n(29541),R=function(e){var t=e.loading,n=e.name,r=e.control,i=e.disabled,a=e.onFocus,o=e.onKeyDown,s=e.onPaste,l=e.placeholder,c=e.onChange,u=e.tokenAmountClassname,d=e.usdValueClassname,p=(0,m.Bn)().getTokenInfo,f=b.useRef(null),x=(0,j.qo)({control:r,name:"fromValue"===n?"fromTokenAddress":"toTokenAddress"}),v=b.useMemo((function(){return p(x)}),[p,x]);return(0,Z.jsx)(j.Qr,{name:n,control:r,rules:{required:"Required"},render:function(e){var r=e.field,p=r.onChange,m=r.value,h=r.onBlur;return(0,Z.jsxs)("div",{className:"flex flex-col text-right h-full",children:[t||!v?(0,Z.jsx)(I.O,{className:"ml-2 w-24 h-6 self-end"}):(0,Z.jsx)(O.Z,{name:n,className:(0,P.cn)("outline-none",u),decimals:v.decimals,onChange:c?function(e){p(e),c(e)}:p,value:null===m||void 0===m?void 0:m.value,disabled:i,ref:f,onBlur:h,onFocus:a,onKeyDown:o,onPaste:s,placeholder:l}),t?(0,Z.jsx)(I.O,{className:"ml-2 mt-0.5 w-8 h-4 self-end"}):null!==m&&void 0!==m&&m.value?(0,Z.jsx)("div",{className:(0,P.cn)("text-xs text-black-35 dark:text-white-35"),onClick:function(){var e;return null===f||void 0===f||null===(e=f.current)||void 0===e?void 0:e.focus()},children:(0,Z.jsx)(A.Z,{tokenAddress:x,value:m,className:d})}):null]})}})},D=n(41264),_=n(94660),L=n(1242),V=n(69667),E=n(70006),B=n(59978),F=function(e){var t=e.control,n=e.name,r=e.modalId,i=e.getValues,o=e.disableTokenSelect,s=(0,m.Bn)(),l=s.getTokenInfo,c=s.tokenMap,u=(0,E.JT)(),d=u.closeModal,p=u.openContextualModal,f=u.setContextValue,x=u.ModalContextConsumer,v=(0,S.T)(),h=(0,j.bc)({control:t,name:n}).field,g=(0,j.qo)({control:t,name:["fromTokenAddress","toTokenAddress"]}),y=(0,a.Z)(g,2),w=y[0],k=y[1],N=(0,b.useMemo)((function(){return"fromTokenAddress"===n?w:k}),[w,k,n]),T=(0,b.useMemo)((function(){return l(N)}),[l,N]),C=(0,b.useMemo)((function(){return Array.from(c.values()).map((function(e){return e.address}))}),[c]),M=(0,b.useCallback)((function(e){x&&(f(r,C),p(r,C,(0,Z.jsx)(x,{children:function(t){return(0,Z.jsx)(_.ZP,{onSubmit:function(t){e.current(t)},mintsList:t,bestTokens:L.KG})}}),{position:"top",noCloseButton:!0}))}),[x,C,r,p,f]),I=(0,b.useCallback)((function(e){var t,r;if(e){var a,o,s=i(),c=s.toTokenAddress,u=s.fromTokenAddress;if("fromTokenAddress"===n)c===e.address?(a=e,o=l(u)):(a=e,o=l(c));else u===e.address?(a=l(c),o=e):(a=l(u),o=e);h.onChange("fromTokenAddress"===n?null===(t=a)||void 0===t?void 0:t.address:null===(r=o)||void 0===r?void 0:r.address),v(a,o),d()}}),[d,h,l,i,n,v]),A=(0,b.useRef)(I);return A.current=I,(0,b.useEffect)((function(){f(r,C)}),[r,f,C]),(0,Z.jsx)("div",{className:"flex justify-between items-center group/select",children:(0,Z.jsxs)("button",{type:"button",disabled:o,className:(0,P.cn)("py-2 px-3 h-10 rounded-lg flex space-x-3 items-center border-transparent",o?"":"bg-v2-background-page border group-hover/select:border-v2-primary/50 group-hover/select:bg-[rgba(199,242,132,0.2)] group-hover/select:shadow-swap-input-dark"),onClick:function(){return M(A)},children:[(0,Z.jsx)("div",{className:"rounded-full",children:(null===T||void 0===T?void 0:T.logoURI)&&(0,Z.jsx)(B.Z,{width:24,height:24,info:T})}),(0,Z.jsx)("div",{className:"font-semibold text-sm",translate:"no",children:null===T||void 0===T?void 0:T.symbol}),!o&&(0,Z.jsx)("div",{className:"text-white/25 group-hover/select:text-[#00D1DF] group-hover/select:text-v2-primary fill-current",children:(0,Z.jsx)(V.Z,{})})]})})},q=n(13154),W=n(55948),z=n(43723),U=n(24684),K=n(74925),G=n(99882),H=n(89349),Y=n(60021),J=n(39913),Q=n(45009),X=n(41144);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te=function(e,t){return{name:t,timestamp:1e3*e.unixTime,price:e.value}};var ne=n(14518),re=n(62348),ie=n(3082),ae=n(88381),oe=function(e){var t=e.active,n=e.payload;if(t&&n&&n.length&&"number"===typeof n[0].value){var r=n[0].value,i=(0,ne.Z)(n[0].payload.timestamp,"p");return(0,Z.jsxs)("div",{className:"flex flex-col bg-white dark:bg-black px-2 py-1 text-xs rounded-md",children:[(0,Z.jsx)("span",{children:i}),(0,Z.jsxs)("span",{className:"flex space-x-1 items-center h-5",children:[(0,Z.jsx)("span",{children:"$"}),(0,Z.jsx)("span",{children:Number(r)<1e-6?(0,Z.jsx)(ae.ZP,{value:Number(r),maxSuffix:6}):(0,Z.jsx)("span",{children:new v.Z(r).toDP(6).toString()})})]})]})}return null},se=function(e){var t=e.token,n=e.priceInUsd,r=b.useCallback((function(e){var t=String(e).split(".");return t.length>1?t[1].length:0}),[]);return Number.isNaN(Number(null===n||void 0===n?void 0:n.usd))?(0,Z.jsx)(Z.Fragment,{children:"N/A"}):Number(null===n||void 0===n?void 0:n.usd)<1e-6?(0,Z.jsx)(ae.ZP,{value:Number(null===n||void 0===n?void 0:n.usd),maxSuffix:6}):r(null===n||void 0===n?void 0:n.usd)>t.decimals?(0,Z.jsx)(Z.Fragment,{children:null===n||void 0===n?void 0:n.usd.toFixed(t.decimals)}):(0,Z.jsx)(Z.Fragment,{children:null===n||void 0===n?void 0:n.usd})},le=function(e){var t=e.token,n=(0,f.XA)(),i=(0,m.y6)(),a=i.tokenPriceMap,o=i.getUSDValue,s=(0,ie.useRouter)(),c=function(e,t){var n=e.token,i=e.interval,a=void 0===i?"":i,o=t.enabled,s=t.staleTime,c=n.address,u=b.useMemo((function(){new Date(Date.now()-864e5);var e=new Date;return new URLSearchParams({address:c,type:"5m",time_to:(e.getTime()/1e3).toFixed(0)})}),[c]),d="".concat("https://birdeye-proxy.jup.ag/defi/history_price","?").concat(u.toString());return ee(ee({},(0,Q.a)(["".concat(c,"-useChartData-").concat(a)],(0,r.Z)(l().mark((function e(){var t,n,r,i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,X.ZP.get(d).json();case 5:return t=e.sent,n=t.data,r=new v.Z(n.items[n.items.length-1].value),i=new v.Z(n.items[0].value),a=new v.Z(r).div(i),e.abrupt("return",{marketChart:n.items.map(te),change24H:new v.Z(a).sub(1).mul(100).toDP(2).toNumber()});case 13:throw e.prev=13,e.t0=e.catch(2),console.error("useChartData",e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[2,13]])}))),{enabled:o&&Boolean(c),refetchInterval:6e4,staleTime:s||3e4,retry:2,retryDelay:5e3,keepPreviousData:!0})),{},{apiURL:{marketChart:d}})}({token:t,interval:"5m"},{enabled:s.isReady,cacheTime:18e5,staleTime:12e5}),u=c.data;(0,b.useEffect)((function(){var e,n;null!==(e=t.extensions)&&void 0!==e&&e.coingeckoId&&o(t.address||(null===(n=t.extensions)||void 0===n?void 0:n.coingeckoId))}),[t,o]);var d=(0,b.useMemo)((function(){return a[t.address]}),[a,t.address]),p=(0,b.useMemo)((function(){if(!u)return null;var e=C.uf.format(String(u.change24H));return u.change24H>0?"+".concat(e,"%"):"".concat(e,"%")}),[u]),x=(0,b.useMemo)((function(){return"https://birdeye.so/token/".concat(t.address,"?chain=solana")}),[t.address]);return(0,Z.jsxs)("div",{className:"flex justify-between dark:text-white",translate:"no",children:[(0,Z.jsxs)("div",{className:"flex items-center w-full max-w-[60%] md:max-w-[35%] text-ellipsis space-x-3",children:[(0,Z.jsx)(B.Z,{info:t,width:24,height:24}),(0,Z.jsxs)("div",{className:"flex flex-col",children:[(0,Z.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Z.jsx)("span",{className:"text-sm dark:text-white-75 font-semibold",children:t.symbol}),(0,Z.jsx)(re.Z,{tokenInfo:t,customUrl:x})]}),(0,Z.jsx)("span",{className:"text-xs text-black-50 dark:text-white-50 text-ellipsis",children:t.name})]})]}),(0,Z.jsxs)("div",{className:"w-full max-w-[50%]",children:[(0,Z.jsxs)("div",{className:"w-full flex items-center",children:[(0,Z.jsx)("span",{className:"w-[60%] mr-2.5 text-[14px] font-semibold text-ellipsis",children:(0,Z.jsx)(se,{token:t,priceInUsd:d})}),(0,Z.jsx)("span",{className:"w-[40%] mr-2.5 text-[14px] font-semibold text-ellipsis ".concat(((null===u||void 0===u?void 0:u.change24H)||0)>=0?"text-jupiter-jungle-green":"text-[#FF0000]"),children:p})]}),(0,Z.jsx)("svg",{width:0,height:0,children:(0,Z.jsx)("defs",{children:(0,Z.jsxs)("linearGradient",{id:"linear",children:[(0,Z.jsx)("stop",{offset:"0%",stopColor:"#FCC00A"}),(0,Z.jsx)("stop",{offset:"100%",stopColor:"#4EBAE9"})]})})}),(0,Z.jsx)("div",{className:"flex w-full h-6 items-center",children:null!==u&&void 0!==u&&u.marketChart?(0,Z.jsx)(K.h,{width:"100%",height:24,children:(0,Z.jsxs)(G.w,{data:u.marketChart,children:[(0,Z.jsx)(H.u,{position:{x:n?-64:230,y:n?-16:-6},content:function(e){return(0,Z.jsx)(oe,{active:e.active,payload:e.payload})}}),(0,Z.jsx)(Y.x,{type:"monotone",dataKey:"price",stroke:"url(#linear)",strokeWidth:2,dot:!1}),(0,Z.jsx)(J.B,{hide:!0,domain:["dataMin","dataMax"]})]})}):null})]})]})},ce=n(40558),ue=n(87148),de=function(e){var t=e.loading,n=e.hasAtaDeposit,r=e.feeInformation,i=(0,ue.Z)(n),a=t&&i;return n||a?(0,Z.jsxs)("div",{className:"flex items-start justify-between text-xs",children:[(0,Z.jsxs)("div",{className:"flex w-[50%] text-black-50 dark:text-white-50",children:[(0,Z.jsx)(c.cC,{id:"Deposit"}),(0,Z.jsx)(ce.Z,{variant:"dark",content:(0,Z.jsx)("div",{className:"max-w-xs rounded-lg text-white-75",children:(0,Z.jsx)("ul",{className:"pl-2",children:n&&(0,Z.jsx)("li",{children:(0,Z.jsx)("p",{children:(0,Z.jsx)(c.cC,{id:"You need to have the token accounts in order to execute the trade."})})})})}),children:(0,Z.jsx)("span",{className:"ml-1 cursor-pointer",children:"[?]"})})]}),a?(0,Z.jsx)(I.O,{className:"w-12 h-4 self-end"}):(0,Z.jsx)("div",{className:"w-[50%] text-black-50 dark:text-white-50 text-xs text-right",children:function(){var e,t,i=[n&&r&&(0,Z.jsx)("p",{children:(0,Z.jsx)(c.cC,{id:"{0} SOL for {1} {2, plural, one {ATA account} other {ATA accounts}}",values:{0:C.uf.format((0,C.lt)(r.ataDeposits.reduce((function(e,t){return e+=t}),0),9).toString()),1:null===r||void 0===r||null===(e=r.ataDeposits)||void 0===e?void 0:e.length,2:(null===r||void 0===r||null===(t=r.ataDeposits)||void 0===t?void 0:t.length)||0}})},"ata")].filter(Boolean);return i.length?i:"-"}()})]}):null},pe=n(90342),me=function(e){var t=e.feeInformation,n=(0,pe.gs)().userMaxFeeInSOL,r=(0,b.useMemo)((function(){if(!t)return"-";var e=t.signatureFee;return new v.Z(e).div(Math.pow(10,9)).add("number"===typeof n&&n||0).toString()}),[t,n]);return(0,Z.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,Z.jsxs)("div",{className:"flex w-[50%] text-black-50 dark:text-white-50",children:[(0,Z.jsx)(c.cC,{id:"Max Transaction Fee"}),(0,Z.jsx)(ce.Z,{content:(0,Z.jsx)(c.cC,{id:"This is for Solana transaction fee and Priority fee"}),children:(0,Z.jsx)("span",{className:"ml-1 cursor-pointer",children:"[?]"})})]}),(0,Z.jsxs)("div",{className:"text-black-50 dark:text-white-50",children:[r," SOL"]})]})},fe="text-white-50",xe="text-jupiter-primary",ve="text-perps-red",he=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,U.gJ)(),r=(0,b.useMemo)((function(){return t?new v.Z(0):new v.Z((null===e||void 0===e?void 0:e.priceImpactPct)||0).mul(100)}),[t,null===e||void 0===e?void 0:e.priceImpactPct]),i=(0,b.useMemo)((function(){return C.uf.format(r.toDP(4))}),[r]),a=r.lt(.1)?"< ".concat(C.uf.format("0.1"),"%"):"~ ".concat(i,"%"),o=(0,b.useMemo)((function(){if(n){if(n.isMediumImpact)return xe;if(n.isHighImpact)return ve}return fe}),[n]);return{priceImpactText:a,priceImpactColor:o,priceImpactPct:r}},ge=n(25224),be="!text-jupiter-jungle-green",je="!text-jupiter-primary",ye="!text-jupiter-red",we=function(e){var t=e.loading,n=(0,U.tX)(),r=n.rate,i=n.isMoreExp,a=n.isDanger,o=n.isWarning,s=n.percent,l=n.formattedPercent,d=n.isWithinTwoPercent,p=(0,b.useMemo)((function(){return i&&!d?u.ag._("{formattedPercent}% more than Birdeye",{formattedPercent:l}):i?u.ag._("Within {formattedPercent}%",{formattedPercent:l}):0===s?"< ".concat(ge.uf.format(.1),"% cheaper"):"".concat(l,"% cheaper")}),[i,l,d,s]),m=(0,b.useMemo)((function(){return o?je:a?ye:be}),[a,o]);return null!==r&&p?(0,Z.jsxs)("div",{className:"flex justify-between text-xs items-start",children:[(0,Z.jsx)("div",{className:"text-white-50 justify-start",children:(0,Z.jsx)(c.cC,{id:"Price Difference"})}),(0,Z.jsx)("div",{className:"flex flex-col text-xs",children:t?(0,Z.jsx)(I.O,{className:"mt-1 h-3 w-20"}):(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)("div",{className:"flex flex-row justify-end w-full",children:[(0,Z.jsx)("span",{className:"".concat(m," text-end"),children:p}),(0,Z.jsx)("div",{className:"fill-current ".concat(m)})]})})})]}):null},ke=function(e){var t,n=e.loading,r=e.route,i=e.inputPair,a=e.outputPair,o=(0,U.gJ)(),s=he(r),l=s.priceImpactText,u=s.priceImpactColor,p=(0,b.useMemo)((function(){var e=r.swapMode===d.jr.ExactIn?a:i,t=new v.Z(r.otherAmountThreshold.toString()).div(Math.pow(10,e.decimals)),n=C.uf.format(t);return"".concat(n," ").concat(e.symbol)}),[r.swapMode,r.otherAmountThreshold,a,i]),m=(null!==(t=null===o||void 0===o?void 0:o.ataDeposits.length)&&void 0!==t?t:0)>0,f=o;return(0,Z.jsx)("div",{className:"w-full p-5 rounded-lg border border-v2-lily/10 text-xs mt-3",children:(0,Z.jsxs)("div",{className:"space-y-1",children:[(0,Z.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,Z.jsx)("div",{className:"text-white-50",children:r.swapMode===d.jr.ExactIn?(0,Z.jsx)(c.cC,{id:"Minimum Received"}):(0,Z.jsx)(c.cC,{id:"Maximum Consumed"})}),(0,Z.jsx)("div",{className:"text-white-50",children:p})]}),(0,Z.jsx)(me,{feeInformation:f}),(0,Z.jsx)(de,{loading:n,hasAtaDeposit:m,feeInformation:f}),(0,Z.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,Z.jsx)("div",{className:"text-black-50 dark:text-white-50",children:(0,Z.jsx)(c.cC,{id:"Price Impact"})}),(0,Z.jsx)("div",{className:u,children:l})]}),(0,Z.jsx)(we,{loading:n})]})})},Se=n(28940),Ne=function(e){var t=e.loading,n=e.control,r=e.intervalRefresher,i=(0,j.qo)({control:n,name:"selectedRoute"}),o=(0,j.qo)({control:n,name:"fromValue.floatValue"}),s=(0,U.on)(),l=s.inputTokenInfo,u=s.outputTokenInfo,d=(0,U.tX)(),p=d.isWarning,m=d.isDanger,f=(0,Se.Z)(),x=f.showSummary,v=f.setSpotSummary,h=b.useState(x),g=(0,a.Z)(h,2),y=g[0],w=g[1];if(b.useEffect((function(){(p||m)&&w(!0)}),[p,m]),!l||!u)return null;return(0,Z.jsxs)("div",{className:"my-5",children:[i?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{className:"flex justify-between",children:[(0,Z.jsx)("span",{className:"flex flex-col",children:(0,Z.jsx)(q.Z,{className:"text-xs font-medium",inputAmount:i.quoteResponse.inAmount,outputAmount:i.quoteResponse.outAmount,inputPair:l,outputPair:u,reversible:!0})}),(0,Z.jsxs)("button",{type:"button",onClick:function(){y?(w(!1),v(!1)):(w(!0),v(!0))},className:"flex items-start space-x-2 cursor-pointer text-black/25 dark:text-white/25 hover:text-light-active-state dark:hover:text-v2-primary",children:[(0,Z.jsx)("div",{className:"h-4 w-4 flex items-center fill-current",children:y?(0,Z.jsx)(z.Z,{}):(0,Z.jsx)(W.Z,{})}),(0,Z.jsx)("span",{className:"text-xs font-medium",children:y?(0,Z.jsx)(c.cC,{id:"Hide more info"}):(0,Z.jsx)(c.cC,{id:"Show more info"})}),r]})]}),y&&(0,Z.jsx)(ke,{route:i.quoteResponse,loading:t,inputPair:l,outputPair:u})]}):o>0?(0,Z.jsxs)("div",{className:"flex justify-between",children:[(0,Z.jsx)("div",{className:"h-4 w-4 flex items-center fill-current"}),r]}):null,(0,Z.jsxs)("div",{className:"flex flex-col space-y-2 mt-2 sm:mt-4 w-full overflow-hidden",children:[(0,Z.jsx)(le,{token:l}),(0,Z.jsx)(le,{token:u})]})]})},Te=n(57715),Pe=n(51633),Ce=n(96404),Me=function(e){var t=e.control,n=e.name,r=e.className,i=e.useWSol,a=(0,m.Bn)().tokenMap,o=(0,m.Os)().connected,s=(0,j.qo)({control:t,name:n}),l=b.useMemo((function(){return a.get(s)}),[a,s]);return o?(0,Z.jsxs)("div",{className:"flex space-x-1 items-center",children:[(0,Z.jsx)("div",{className:"mb-px fill-current text-white-75",children:(0,Z.jsx)(Pe.Z,{width:12,height:12})}),(0,Z.jsxs)("div",{className:(0,P.cn)("text-xs font-normal text-v2-lily/50 whitespace-nowrap",r),children:[(0,Z.jsx)(Ce.Z,{mintAddress:s,useWSOL:i})," ",(0,Z.jsx)("span",{children:null===l||void 0===l?void 0:l.symbol})]})]}):null},Ie=n(95523),Ae=n(57281),Oe=n(11823),Ze=n(56720),Re=n(40993),De=n(11711),_e=n(3011),Le=n(39268),Ve=n.n(Le),Ee=n(85948),Be=n(33130),Fe=n(81098),qe={quotedSlippage:(0,n(9364).cn)(void 0)},We=n(11421),ze=n(14167),Ue=n(49488),Ke=n(11003),Ge=n(51232),He=function(e){var t=e.loading,n=e.listOfSuggestions,r=(0,C.Nr)(t,100),i=(0,b.useMemo)((function(){return[n.additional,n.fromToken,n.toToken].flat().filter(Boolean).length>0}),[n]);return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)("div",{className:(0,ge.cn)("transition-all duration-200",i?"opacity-100 !h-auto":"opacity-0 !h-0"),children:[i&&(0,Z.jsx)("hr",{className:"w-full border-[rgba(25,35,45,0.35)] my-2 z-0"}),(0,Z.jsxs)("div",{className:(0,ge.cn)("relative flex flex-wrap gap-y-1 gap-x-2 transition-all",r?"blur-xs opacity-50 pointer-events-none":"opacity-100"),children:[n.additional,n.fromToken,n.toToken]})]})})},Ye=n(25348),Je=n(81097),Qe=n(50269),Xe=n(91799),$e="text-v2-lily bg-v2-lily/5 border border-v2-lily/5",et="text-text-warning-primary bg-utility-warning-50 border border-utility-warning-300",tt="text-utility-error-700 bg-utility-error-50 border border-utility-error-200",nt=function(e){return(0,Z.jsx)("div",{className:(0,ge.cn)("py-1.5 px-2","flex items-center gap-x-1.5","select-none transition-all fill-current","rounded-md !text-xxs font-[500] !leading-none whitespace-nowrap",e.className),children:e.children})},rt=n(35682),it=function(e){var t=e.freeze,n=e.permanent,r=(0,b.useMemo)((function(){return t.every(ge.OR)&&n.every(ge.OR)}),[t,n]),i=(0,rt.XA)();return(0,Z.jsx)(ce.Z,{drawShades:!0,placement:"top",persistOnClick:i,buttonContentClassName:"!cursor-help",content:(0,Z.jsxs)("div",{className:"p-1",children:[t.length>0&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("p",{className:"font-semibold",children:u.ag._("Freeze Authority")}),(0,Z.jsx)("div",{className:"text-v2-lily/50 mt-1",children:(0,Z.jsx)("p",{children:u.ag._("The token you are trading have Freeze Authority, and can be frozen.")})}),(0,Z.jsx)("div",{className:"mt-2 flex gap-2",children:t.map((function(e){return(0,Z.jsxs)("div",{className:(0,ge.cn)("flex pl-2 overflow-hidden gap-x-2 items-center border border-v2-lily/10 rounded-lg bg-v2-lily/10",(0,ge.OR)(e)?"":"bg-warning text-limit-bg"),children:[(0,Z.jsx)("span",{className:"font-semibold",children:e.symbol}),(0,Z.jsx)(re.Z,{tokenInfo:e,className:(0,ge.OR)(e)?"":"text-black"})]},e.address)}))})]}),t.length>0&&n.length>0&&(0,Z.jsx)(Xe.Z,{}),n.length>0&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("p",{className:"font-semibold",children:u.ag._("Permanent Delegates")}),(0,Z.jsx)("div",{className:"text-v2-lily/50 mt-1",children:(0,Z.jsx)("p",{children:u.ag._("The token you are trading have Permanent Delegates, permanent delegate has unrestricted delegate privileges over all Token Accounts for that mint, enabling them to burn or transfer tokens without limitation")})}),(0,Z.jsx)("div",{className:"mt-2 flex gap-2",children:n.map((function(e){return(0,Z.jsxs)("div",{className:(0,ge.cn)("flex pl-2 overflow-hidden gap-x-2 items-center border border-v2-lily/10 rounded-lg bg-v2-lily/10",(0,ge.OR)(e)?"":"bg-warning text-limit-bg"),children:[(0,Z.jsx)("span",{className:"font-semibold",children:e.symbol}),(0,Z.jsx)(re.Z,{tokenInfo:e,className:(0,ge.OR)(e)?"":"text-black"})]},e.address)}))})]})]}),children:(0,Z.jsxs)(nt,{className:(0,ge.cn)(r?$e:tt),children:[(0,Z.jsx)(Qe.Z,{width:10,height:10}),(0,Z.jsx)(c.cC,{id:"Authority Warning"})]})})},at=n(97014),ot=function(e){var t=e.shouldShowWarning,n=(0,f.XA)(),r=(0,m.W2)(),i=(0,b.useMemo)((function(){return r&&r.feeBps?r.feeBps/100+"%":null}),[r]);return(0,Z.jsx)(ce.Z,{placement:"top",drawShades:!0,buttonContentClassName:"!cursor-help",persistOnClick:n,content:(0,Z.jsx)("div",{className:"p-4 pb-2 bg-v3",children:(0,Z.jsx)(at.Z,{shouldShowWarning:t})}),children:(0,Z.jsx)(nt,{className:(0,ge.cn)(t?tt:$e,"!font-[400]"),children:(0,Z.jsx)(c.cC,{id:"Referred {feeInPct}",values:{feeInPct:i}})})})},st=function(e){var t=e.apyInPercent,n=(0,b.useMemo)((function(){if(t)return new v.Z(t).mul(100).toFixed(2)}),[t]),r=(0,rt.XA)();return(0,Z.jsx)(ce.Z,{persistOnClick:r,placement:"top",drawShades:!0,buttonContentClassName:"!cursor-help",content:(0,Z.jsxs)("div",{className:"text-xs p-2",children:[(0,Z.jsx)("p",{children:(0,Z.jsx)(c.cC,{id:"JupSOL is a liquid-staked token, representing SOL staked to Jupiter\u2019s 0% fee validator. Jupiter uses this validator to help land transactions for all users."})}),(0,Z.jsx)("p",{children:(0,Z.jsx)(c.cC,{id:"Swap for this token and hold it in your wallet or across DeFi while enjoying staking yields!"})}),n&&(0,Z.jsxs)("div",{className:"border rounded-lg border-[#667085] bg-white/5 px-4 py-2 gap-x-10 flex justify-between mt-4",children:[(0,Z.jsx)("div",{className:"text-white/75",children:"Estimated APY:"}),(0,Z.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[n,"%",(0,Z.jsx)(ce.Z,{variant:"dark",content:(0,Z.jsx)("span",{className:"flex rounded-lg text-xs text-white-75",children:(0,Z.jsx)(c.cC,{id:"APY estimation based on last few epochs"})}),children:(0,Z.jsx)("div",{className:"flex items-center text-white/30 fill-current",children:(0,Z.jsx)(Qe.Z,{height:12,width:12})})})]})]})]}),children:(0,Z.jsxs)(nt,{className:(0,ge.cn)("text-v2-primary bg-v2-primary/5 border border-v2-primary/5"),children:[t?"".concat(new v.Z(t).mul(100).toFixed(2),"% "):null,(0,Z.jsx)(c.cC,{id:"LST"})]})})},lt=function(e){var t=e.tokenInfo,n=(0,rt.XA)();return(0,Z.jsx)(ce.Z,{placement:"top",drawShades:!0,buttonContentClassName:"!cursor-help",persistOnClick:n,content:(0,Z.jsx)("div",{className:"text-xs",children:(0,Z.jsx)(c.cC,{id:"{0} is a new token, and may be volatile, please trade with caution.",values:{0:t.symbol}})}),children:(0,Z.jsx)(nt,{className:(0,ge.cn)($e),children:(0,Z.jsx)(c.cC,{id:"New"})})})},ct=function(e){var t=e.tokenInfo,n=e.dasAsset,r=e.transferFee,i=(0,b.useMemo)((function(){return(0,ge.OR)(t)}),[t]),a=(0,b.useMemo)((function(){return new v.Z(r).greaterThan(0)}),[r]),o=(0,rt.XA)();return a?(0,Z.jsx)(ce.Z,{placement:"top",drawShades:!0,persistOnClick:o,buttonContentClassName:"!cursor-help",content:n?(0,Z.jsx)(Ye.J,{tokenInfo:t,dasAssets:[n],isLoading:!1}):null,children:(0,Z.jsx)(nt,{className:(0,ge.cn)(i?$e:et),children:(0,Z.jsxs)("div",{className:"flex gap-x-1",children:[(0,Z.jsx)("span",{children:t.symbol}),(0,Z.jsxs)("span",{children:["(",r,"% Tax)"]})]})})}):null},ut=function(e){var t=e.tokenInfo,n=(0,rt.XA)();return(0,Z.jsx)(ce.Z,{persistOnClick:n,placement:"top",drawShades:!0,buttonContentClassName:"!cursor-help",content:(0,Z.jsx)("div",{className:"text-xs",children:(0,Z.jsx)(c.cC,{id:"{0} is not on the strict list, make sure the mint address is correct before trading",values:{0:t.symbol}})}),children:(0,Z.jsx)(nt,{className:(0,ge.cn)(et),children:(0,Z.jsx)(c.cC,{id:"{0} is not verified",values:{0:t.symbol}})})})},dt=n(39860),pt=n(67768),mt=n(64508),ft=n.n(mt),xt=n(37124),vt=n(11017),ht=n(81652),gt=function(e){var t=e.birdeyeRate,n=e.isWarning,r=e.isDanger,i=e.isHighPriceImpact,o=e.priceDifferencePct,s=e.fromTokenInfo,l=e.toTokenInfo,d=e.quoteResponse,p=(0,ht.y6)().tokenPriceMap,m=d.inAmount,f=d.outAmount,x=d.priceImpactPct,h=(0,b.useMemo)((function(){return new v.Z(m.toString()).div(Math.pow(10,s.decimals))}),[m,s.decimals]),j=(0,b.useMemo)((function(){var e;return h.mul((null===(e=p[s.address||""])||void 0===e?void 0:e.usd)||0)}),[h,s.address,p]),y=(0,b.useMemo)((function(){var e;return new v.Z(f.toString()).div(Math.pow(10,l.decimals)).mul((null===(e=p[l.address||""])||void 0===e?void 0:e.usd)||0)}),[f,l.address,l.decimals,p]),w=(0,b.useMemo)((function(){return j.gte(1e3)}),[j]);(0,b.useEffect)((function(){i||(0,We.Kz)(Ee.m8,{fromToken:{amount:m.toString(),value:j.toString(),address:s.address},toToken:{amount:f.toString(),value:y.toString(),address:l.address},priceDifferencePct:o,priceImpactPct:new v.Z(x).mul(100).toNumber()})}),[i,s.address,j,m,f,o,x,l.address,y]);var k=(0,ht.Bn)().getTokenSlug,S=b.useState(!0),N=(0,a.Z)(S,2),T=N[0],P=N[1],C=b.useCallback((function(e){e.stopPropagation(),P((function(e){return!e}))}),[]),M=(0,U.gJ)(),I=(0,b.useMemo)((function(){return n||(null===M||void 0===M?void 0:M.isMediumImpact)}),[n,null===M||void 0===M?void 0:M.isMediumImpact]),A=(0,b.useMemo)((function(){return r||(null===M||void 0===M?void 0:M.isHighImpact)}),[r,null===M||void 0===M?void 0:M.isHighImpact]),O=(0,rt.XA)(),R=(0,b.useMemo)((function(){return i?{pillTitle:"".concat(new v.Z(x).mul(100).toNumber().toFixed(2),"% Price Impact"),title:w?u.ag._("Looks like your trade size is too large."):u.ag._("Looks like you are getting a bad rate."),description:w?(0,Z.jsx)(ft(),{shallow:!0,href:"/dca/".concat(k(s),"-").concat(k(l),"?").concat(new URLSearchParams({inAmount:h.toString(),frequency:"minute",frequencyValue:"10"}).toString()),className:"text-xs cursor-pointer flex items-center justify-center mb-2",children:(0,Z.jsx)(xt.Z,{size:"xs",type:"button",className:"!w-[120px]",children:(0,Z.jsxs)("div",{className:"flex gap-x-2 items-center justify-center",children:[(0,Z.jsx)("span",{children:u.ag._("Go to DCA")}),(0,Z.jsx)(vt.Z,{})]})})}):u.ag._("Please refresh quote or trade with caution.")}:{pillTitle:"".concat(o.toFixed(2),"% Price Difference"),title:u.ag._("Looks like you are getting a bad rate."),description:u.ag._("Please refresh quote or trade with caution.")}}),[i,w,x,o,s,l,h,k]),D=R.pillTitle,_=R.title,L=R.description;return(0,Z.jsx)(ce.Z,{placement:"top",persistOnClick:O,buttonContentClassName:"!cursor-help",content:(0,Z.jsxs)("div",{className:"p-3",children:[(0,Z.jsx)("div",{className:"mb-4",children:(0,Z.jsx)("p",{className:"text-v2-lily text-center",children:(0,Z.jsx)(c.cC,{id:"{title}",values:{title:_}})})}),(0,Z.jsx)("div",{className:(0,pt.cn)("text-center mb-4",{"text-jupiter-primary":I,"text-perps-red":A}),children:(0,Z.jsx)(c.cC,{id:"{description}",values:{description:L}})}),(0,Z.jsxs)("div",{className:"flex flex-col bg-[#2B2C32] rounded-lg p-3 w-full",children:[(0,Z.jsxs)("div",{className:"flex items-center justify-between gap-x-5",children:[(0,Z.jsx)("p",{className:"text-white/50",children:(0,Z.jsx)(c.cC,{id:"Quoted Rate"})}),(0,Z.jsx)("button",{type:"button",className:"cursor-pointer flex",onClick:C,children:(0,Z.jsx)(q.y,{className:(0,pt.cn)("text-xs font-medium text-white"),textClassName:(0,pt.cn)({"text-jupiter-primary":I,"text-perps-red":A}),inputAmount:g().BigInt(m),outputAmount:g().BigInt(f),inputPair:s,outputPair:l,reversible:!0,isReversed:T})})]}),t&&t>0&&(0,Z.jsxs)("div",{className:"flex items-center justify-between mt-3 gap-x-5",children:[(0,Z.jsx)("p",{className:"text-white/50 text-nowrap",children:(0,Z.jsx)(c.cC,{id:"Market rate"})}),(0,Z.jsx)("button",{type:"button",className:"cursor-pointer flex",onClick:C,children:(0,Z.jsx)(q.y,{className:(0,pt.cn)("text-xs font-medium text-white"),textClassName:(0,pt.cn)({"text-jupiter-primary":I,"text-perps-red":A}),inputAmount:g().BigInt(m),outputAmount:g().BigInt(new v.Z(m.toString()).div(Math.pow(10,s.decimals)).mul(t).mul(Math.pow(10,l.decimals)).toFixed(0)),inputPair:s,outputPair:l,reversible:!0,isReversed:T})})]})]})]}),children:(0,Z.jsxs)(nt,{className:(0,pt.cn)(A?tt:et),children:[(0,Z.jsx)(Qe.Z,{width:10,height:10}),(0,Z.jsx)(c.cC,{id:"{pillTitle}",values:{pillTitle:D}})]})})},bt=[k.cq.toString(),k.IL.toString(),k.Th.toString()],jt=n(35186),yt=n(42916),wt=function(e){var t=e.ammName,n=e.excludeAmm,r=(0,E.JT)().closeModal;return(0,Z.jsxs)("div",{className:"p-5 max-w-md dark:bg-v2-background",children:[(0,Z.jsx)("p",{className:"font-medium text-xl mb-8 leading-5",children:"Transaction Failure"}),(0,Z.jsxs)("p",{className:"text-sm text-v2-lily/75 mb-2",children:["Your transaction failed due to an issue with ",t]}),(0,Z.jsx)("p",{className:"text-sm text-v2-lily/75 mb-8",children:"We recommend that you exclude affected DEX(es) and fetch a new quote for your swap."}),(0,Z.jsxs)(M.Z,{className:"mb-2",size:"md",onClick:function(){n(),r()},children:["Exclude ",t," and Fetch New Quote"]}),(0,Z.jsx)("button",{className:"border border-v2-lily/25 rounded-xl w-full mt-2 h-14",onClick:r,children:"Cancel"})]})},kt=function(e){var t=e.onClickExactIn;return(0,Z.jsxs)("div",{className:"bg-warning/10 border border-warning/50 text-perps-warning px-3 py-2 rounded-lg text-xs mt-2 flex flex-col justify-start",children:[(0,Z.jsx)("p",{children:u.ag._("ExactOut swap supports less liquidity venues and less routes. It might also offer a worse price. Slippage is only applied on input amount, not output amount.")}),t&&(0,Z.jsx)("div",{onClick:t,className:"mt-2 underline cursor-pointer",children:u.ag._("Switch back to ExactIn")})]})},St=n(92956),Nt=n(65558),Tt=n.n(Nt),Pt=n(57917),Ct=n(60012),Mt=n(33118),It=function(e){var t=e.control,n=e.loading,r=e.error,i=e.moreErrors,o=e.simulationButtonText,s=(0,St.O)().connected,l=(0,j.cl)({control:t}).isSubmitting,p=(0,j.qo)({control:t,name:"fromTokenAddress"}),f=(0,j.qo)({control:t,name:"toTokenAddress"}),x=(0,j.qo)({control:t,name:"selectedRoute"}),h=(0,j.qo)({control:t,name:"fromValue"}),g=(0,j.qo)({control:t,name:"toValue"}),y=(0,j.qo)({control:t,name:"toastId"}),w=(0,m.jB)().useWSol,k=(0,m.Bn)().tokenMap,S=(0,m.FB)(p,void 0,w).balance,N=(0,m.gZ)().nativeAccount,T=(0,U.gJ)(),P=b.useMemo((function(){return null===k||void 0===k?void 0:k.get(p)}),[p,k]),C=b.useMemo((function(){return null===k||void 0===k?void 0:k.get(f)}),[f,k]),M=b.useMemo((function(){var e=S,t=null===P||void 0===P?void 0:P.decimals;if(x&&t){var n=x.quoteResponse.swapMode===Ae.jr.ExactOut?new v.Z(x.quoteResponse.otherAmountThreshold.toString()).div(Math.pow(10,P.decimals)):null===h||void 0===h?void 0:h.value;return new v.Z(n||0).lessThanOrEqualTo(e)}return!0}),[P,h,S,x]),I=b.useMemo((function(){if(T&&x){var e=!w&&x.quoteResponse.inputMint.equals(Ae.W4)?new(Tt())(x.quoteResponse.inAmount.toString()):new(Tt())(0);return((null===N||void 0===N?void 0:N.info.amount)||new(Tt())(0)).sub(e).gt(new(Tt())(T.minimumSOLForTransaction))}return!0}),[T,x,N,w]),A=(0,Ct.useIsAccountFrozen)(P),O=(0,Ct.useIsAccountFrozen)(C),R=(0,Pt.kH)(y),D=R.isProcessing,_=R.isTxProcessed,L=(R.isTxSuccess,R.isWaitingWalletToSign),V=b.useState(""),E=(0,a.Z)(V,2),B=E[0],F=E[1],q=b.useState(null),W=(0,a.Z)(q,2),z=W[0],K=W[1],G=b.useCallback((function(e){F("opacity-0"),setTimeout((function(){K(e),F("opacity-100")}),200)}),[]);return b.useEffect((function(){if(n)G((0,Z.jsx)(c.cC,{id:"Loading"}));else{var e={fromTokenAddress:p,toTokenAddress:f,fromValue:h,toValue:g};if(r)return r===d.D1.TOKEN_NOT_TRADABLE?G(u.ag._("Tokens not tradable")):r===d.D1.COULD_NOT_FIND_ANY_ROUTE||r===d.D1.NO_ROUTES_ERROR?((0,We.Kz)(Ee.bk.NO_ROUTES_ERROR,e),G(u.ag._("No routes found"))):r===d.D1.ROUTE_PLAN_DOES_NOT_CONSUME_ALL_THE_AMOUNT?G((0,Z.jsx)(c.cC,{id:"Try changing your trade amount"})):r===d.D1.INVALID_REQUEST?G(u.ag._("Invalid request")):G((0,Z.jsx)(c.cC,{id:"Error fetching route.<0/> Try changing your trade amount.",components:{0:(0,Z.jsx)("br",{})}})),void(0,We.Kz)(r,e);G(l?o||(_?(0,Z.jsx)(c.cC,{id:"Processed"}):L?(0,Z.jsx)(c.cC,{id:"Pending Approval"}):D?(0,Z.jsx)(c.cC,{id:"Processing"}):(0,Z.jsx)(c.cC,{id:"Swapping"})):(0,Z.jsx)(c.cC,{id:"Swap"}))}}),[D,l,_,L,n,G,x,null===h||void 0===h?void 0:h.value,o,r,p,f,h,g]),s?(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("div",{className:(0,ge.cn)("relative mt-3"),children:(0,Z.jsx)(xt.Z,{disabled:!x||!M||!I||n||i.notTradableYet||!(null!==h&&void 0!==h&&h.value)||!(null!==g&&void 0!==g&&g.value)||A||O,loading:l,type:"submit",className:"relative !transition-none",children:n?(0,Z.jsx)(c.cC,{id:"Loading"}):null!==i&&void 0!==i&&i.notTradableYet?(0,Z.jsx)(c.cC,{id:"Not tradable yet"}):null!==h&&void 0!==h&&h.value?M?I?A||O?(0,Z.jsx)(c.cC,{id:"Token account frozen"}):(0,Z.jsx)("span",{className:(0,ge.cn)("duration-200",B),children:z}):(0,Z.jsx)(c.cC,{id:"Insufficient SOL"}):(0,Z.jsx)(c.cC,{id:"Insufficient {0}",values:{0:null===P||void 0===P?void 0:P.symbol}}):(0,Z.jsx)(c.cC,{id:"Enter an amount"})})})}):(0,Z.jsx)(Mt.Z,{className:"mt-3"})},At=n(41118),Ot=n(66956),Zt=n(23632),Rt=n(85394),Dt=Ve()((function(){return n.e(2583).then(n.bind(n,62583))}),{ssr:!1,loadableGenerated:{webpack:function(){return[62583]}}}),_t="PAIRS_SELECT_TO_PAIR_MODAL_ID",Lt=function(e){var t,n=e.onSubmit,r=e.refresh,i=e.loading,a=e.onClickMax,o=e.control,s=e.setValue,l=e.type,d=e.getValues,p=e.fromTokenInfo,f=e.toTokenInfo,x=e.isSubmitting,h=e.notTradableYet,j=e.error,y=e.simulationButtonText,w=(0,m.mQ)(),k=(w.slippage,w.slippageSettings),S=(0,Ot.b)(p,f),N=S.quoteTokenInfo,T=S.baseTokenInfo,P=S.quoteTokenPrice,C=S.baseTokenPrice,A=S.rateDecimals,D=(S.priceFetched,b.useMemo((function(){if(!At.d.find((function(e){return e===(null===p||void 0===p?void 0:p.address)||e===(null===f||void 0===f?void 0:f.address)})))return null;var e=(null===p||void 0===p?void 0:p.address)===(null===T||void 0===T?void 0:T.address);return{isFromBase:Boolean(e)}}),[null===T||void 0===T?void 0:T.address,null===p||void 0===p?void 0:p.address,null===f||void 0===f?void 0:f.address])),_=(0,Zt.s)({quoteTokenInfo:N,baseTokenInfo:T,quoteTokenPrice:P,baseTokenPrice:C,isBaseQuoteMode:D,rateDecimals:A,isSubmitting:x}),L=_.swapMarketPrice,V=_.isFetching,E=(0,b.useState)({formattedValue:"",value:"",floatValue:0}),B=E[0],q=E[1],W=(0,b.useState)({formattedValue:"",value:"",floatValue:0}),z=W[0],U=W[1],K=Boolean(!V&&L),G=b.useMemo((function(){var e=new v.Z(0);if(!K||!B||!L||!B.floatValue)return e;var t=new v.Z(B.floatValue).sub(L).div(L);return(e=new v.Z(100).mul(t).toDP(2)).isFinite()?e:new v.Z(0)}),[K,B,L]),H=b.useMemo((function(){return G.gt(1e4)?">10000":"".concat(G.toNumber()>0?"+":"").concat(G.toDP(2).toString())}),[G]),Y=b.useMemo((function(){return null!==D&&void 0!==D&&D.isFromBase?G.toNumber()<0:G.toNumber()>0}),[null===D||void 0===D?void 0:D.isFromBase,G]),J=b.useMemo((function(){return null!==D&&void 0!==D&&D.isFromBase?G.toNumber()>0:G.toNumber()<0}),[null===D||void 0===D?void 0:D.isFromBase,G]),Q=b.useMemo((function(){return Y||J}),[Y,J]),X=d().fromValue;(0,b.useEffect)((function(){if(null!==X&&void 0!==X&&X.floatValue&&B.floatValue&&f){var e=null!==D&&void 0!==D&&D.isFromBase?new v.Z(X.floatValue).mul(B.floatValue).toDP(f.decimals):new v.Z(X.floatValue).div(B.floatValue).toDP(f.decimals);U({formattedValue:e.toString(),value:e.toString(),floatValue:e.toNumber()})}else U({formattedValue:"",value:"",floatValue:void 0})}),[null===X||void 0===X?void 0:X.floatValue,L,B.floatValue,f,D]),(0,b.useEffect)((function(){K&&L&&q({formattedValue:L.toString(),value:L.toString(),floatValue:L.toNumber()})}),[K,L]);var $=(0,b.useCallback)((function(e){if(e.preventDefault(),"minimum-output"!==k.mode)n();else{if(!z.floatValue||!f)return;n({minimumOutput:g().BigInt(new v.Z(z.floatValue).mul(Math.pow(10,f.decimals)).toFixed())})}}),[z.floatValue,n,k.mode,f]);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(Dt,{onlySlippageSettings:!0,refresh:r,loading:i,isLaunchPage:!0}),(0,Z.jsxs)("form",{onSubmit:$,children:[(0,Z.jsxs)("div",{className:"mt-1 flex-col space-y-2 relative",children:[(0,Z.jsxs)("div",{className:"flex justify-between",children:[(0,Z.jsx)("label",{htmlFor:"fromValue",className:"text-xs md:text-sm font-medium text-black/90 dark:text-white",children:(0,Z.jsx)(c.cC,{id:"You're paying"})}),(0,Z.jsxs)("div",{className:"flex space-x-2",children:[(0,Z.jsx)("div",{className:"flex item-center ml-1 cursor-pointer hover:text-white-50",onClick:a,children:(0,Z.jsx)(Me,{control:o,name:"fromTokenAddress",className:"hover:text-white-50"})}),(0,Z.jsx)(Oe.oi,{mint:null!==(t=null===p||void 0===p?void 0:p.address)&&void 0!==t?t:"",onBalanceChange:function(e){s("fromValue",{floatValue:e.toNumber(),formattedValue:e.toString(),value:e.toString()})}})]})]}),(0,Z.jsx)("div",{className:(0,ge.cn)("p-4 h-[72px] border border-transparent relative bg-[#EFF0F0] dark:bg-v2-background-dark rounded-xl flex flex-col space-y-3 group","focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark"),children:(0,Z.jsxs)("div",{className:"flex",children:[(0,Z.jsx)(F,{disableTokenSelect:"sell"===(null===l||void 0===l?void 0:l.side),getValues:d,control:o,modalId:_t,name:"fromTokenAddress"}),(0,Z.jsx)("span",{className:"flex-1 text-right",children:(0,Z.jsx)(R,{control:o,name:"fromValue"})})]})}),"minimum-output"===k.mode&&(0,Z.jsx)("div",{className:"mt-2 sm:space-x-3 space-y-2 sm:space-y-0 flex-col-reverse sm:flex sm:flex-row mb-2",children:(0,Z.jsxs)("div",{className:(0,ge.cn)("w-full bg-jupiter-input-light dark:bg-v2-background-dark space-y-1 p-4 rounded-xl flex flex-col justify-center","border border-transparent focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark","relative"),children:[(0,Z.jsxs)("div",{className:"flex justify-between",children:[(0,Z.jsxs)("div",{className:"flex items-center",children:[T?(0,Z.jsxs)("p",{className:"text-black-35 dark:text-white-35 text-xs flex items-center",children:[null!==D&&void 0!==D&&D.isFromBase?(0,Z.jsx)(c.cC,{id:"Sell"}):(0,Z.jsx)(c.cC,{id:"Buy"})," ",(0,Z.jsx)(c.cC,{id:"{0} at rate",values:{0:null===T||void 0===T?void 0:T.symbol}}),V?(0,Z.jsx)(Rt.Z,{className:"ml-1",width:8,height:8}):null]}):(0,Z.jsx)(I.O,{className:"h-4 w-2"}),Q?(0,Z.jsx)("div",{className:(0,ge.cn)("flex items-center text-xs ml-1 font-medium",{"text-jupiter-yellow":Y,"text-v2-primary":J}),children:"(".concat(H,"%)")}):null]}),L&&L.gt(0)?(0,Z.jsx)("button",{type:"button",className:"dark:text-white-35 dark:hover:text-white-75 text-black-35 hover:text-black text-xxs cursor-pointer underline rounded",onClick:function(){L&&q({formattedValue:L.toString(),value:L.toString(),floatValue:L.toNumber()})},children:(0,Z.jsx)(c.cC,{id:"Use Market"})}):null]}),(0,Z.jsxs)("div",{className:"flex items-end relative",children:[(0,Z.jsx)(O.Z,{decimals:A,onChange:function(e){q(e)},value:B.floatValue,disabled:!1,className:"!text-left !text-sm flex-1"}),N?(0,Z.jsx)("div",{className:"flex items-center",children:(0,Z.jsx)("span",{className:"font-semibold text-sm",children:null===N||void 0===N?void 0:N.symbol})}):(0,Z.jsx)(I.O,{className:"w-11 h-6"})]})]})}),(0,Z.jsxs)("div",{className:"flex justify-between mt-2",children:[(0,Z.jsx)("label",{className:"text-xs md:text-sm font-medium text-black/90 dark:text-white",children:"minimum-output"===k.mode?u.ag._("To receive at least"):u.ag._("To receive")}),(0,Z.jsx)("div",{className:"flex",children:(0,Z.jsx)(Me,{control:o,name:"toTokenAddress"})})]}),(0,Z.jsx)("div",{className:"p-4 h-[72px] border border-[#EFF0F0] dark:border-0 dark:bg-[rgba(14,19,32,0.3)] rounded-xl flex flex-col space-y-3",children:(0,Z.jsxs)("div",{className:"flex",children:[(0,Z.jsx)(F,{disableTokenSelect:"buy"===(null===l||void 0===l?void 0:l.side),getValues:d,control:o,modalId:_t,name:"toTokenAddress"}),(0,Z.jsx)("span",{className:"flex-1 text-right h-10",children:f&&(0,Z.jsx)(O.Z,{className:"outline-none",decimals:f.decimals,onChange:function(){},value:z.floatValue,disabled:!0})})]})})]}),"minimum-output"!==k.mode||z.floatValue?(0,Z.jsx)(It,{loading:i,control:o,error:j,moreErrors:{notTradableYet:h},simulationButtonText:y}):(0,Z.jsx)("div",{className:(0,ge.cn)("relative mt-3"),children:(0,Z.jsx)(M.Z,{disabled:!0,loading:x,type:"submit",className:(0,ge.cn)("relative !transition-none w-full bg-[#121D28] border border-transparent",x?(0,ge.cn)("transition-all duration-200 dark:bg-[#0f2d3d] dark:[&>div]:!text-labs"):""),children:u.ag._("Enter target price")})})]})]})},Vt=n(18849),Et=n(795).Buffer;Et.from([229,23,203,151,122,227,173,42]),Et.from([193,32,155,51,65,214,156,129]),Et.from([208,51,239,151,123,43,237,92]),Et.from([176,209,105,168,154,125,69,62]);function Bt(e,t,n){return Ft.apply(this,arguments)}function Ft(){return Ft=(0,r.Z)(l().mark((function e(t,n,i){var a,o=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>3&&void 0!==o[3]?o[3]:4,e.abrupt("return",new Promise(function(){var e=(0,r.Z)(l().mark((function e(r,o){var s,c,u,d,p,m,f,h,g,b,j;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=null,c=null,setTimeout((function(){r({context:c,value:s})}),1e4);case 3:if(!(a>=0)){e.next=37;break}if(e.prev=4,"swapTransaction"in n){e.next=7;break}return e.abrupt("return");case 7:if(d=void 0,!(n.swapTransaction instanceof x.VersionedTransaction)){e.next=12;break}d=n.swapTransaction,e.next=16;break;case 12:if(n.swapTransaction.feePayer){e.next=14;break}throw new Error("No fee payer found");case 14:p=new x.TransactionMessage({payerKey:n.swapTransaction.feePayer,recentBlockhash:n.blockhash,instructions:n.swapTransaction.instructions}).compileToV0Message(),d=new x.VersionedTransaction(p);case 16:return e.next=18,t.simulateTransaction(d,{replaceRecentBlockhash:!0,commitment:"processed"});case 18:if(m=e.sent,c=m.context,f=null===(u=m.value.logs)||void 0===u?void 0:u.reverse().find((function(e){return e.startsWith("Program return: JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4")})),h=(null===f||void 0===f?void 0:f.split(" ").reverse()[0])||"",g=Vt.base64.decode(h),b=g.readBigInt64LE()){e.next=27;break}return a--,e.abrupt("continue",3);case 27:return j="ExactIn"===i.quoteResponse.swapMode?new v.Z(b.toString()).div(i.quoteResponse.outAmount.toString()).minus(1).mul(-1e4):new v.Z(i.quoteResponse.inAmount.toString()).div(b.toString()).minus(1).mul(-1e4),s=j,e.abrupt("break",37);case 32:e.prev=32,e.t0=e.catch(4),a--;case 35:e.next=3;break;case 37:r({context:c,value:s});case 38:case"end":return e.stop()}}),e,null,[[4,32]])})));return function(t,n){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)}))),Ft.apply(this,arguments)}var qt=n(11805);function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ut=Ve()((function(){return n.e(5868).then(n.bind(n,75868))}),{ssr:!1,loadableGenerated:{webpack:function(){return[75868]}}}),Kt=Ve()((function(){return Promise.resolve().then(n.bind(n,60012))}),{ssr:!1,loadableGenerated:{webpack:function(){return[60012]}}}),Gt=Ve()((function(){return n.e(2583).then(n.bind(n,62583))}),{ssr:!1,loadableGenerated:{webpack:function(){return[62583]}}}),Ht="PAIRS_SELECT_TO_PAIR_MODAL_ID";function Yt(e){return e.map((function(e){return zt(zt({},e),{},{data:Object.keys(e.data).reduce((function(t,n){var r;return e.data&&null!==(r=e.data[n])&&void 0!==r&&r.toString?t[n]=e.data[n].toString():t[n]=e.data,t}),{})})}))}var Jt=function(e){var t=e.isLaunchPage,n=(0,E.JT)().openModal;return(0,Z.jsx)(M.Z,{size:"xs",type:"button",className:"mt-4",onClick:function(){return n((0,Z.jsx)(jt.ZP,{isLaunchPage:t}),{canDismiss:!1})},children:u.ag._("Open Slippage Settings")})},Qt=function(e){var t=e.inToken,n=e.outToken,o=e.type,s=(0,m.Os)().wallet,h=(0,m.jB)(),M=h.useWSol,I=h.asLegacyTransaction,A=(0,De.NL)(),O=(0,m.y6)(),_=O.tokenPriceMap,V=O.getUSDValue,B=b.useMemo((function(){return"launch-page"===(null===o||void 0===o?void 0:o.mode)}),[null===o||void 0===o?void 0:o.mode]),q=(0,yt.Z)().refetch,W=(0,m.C9)(),z=(0,S.T)(),K=(0,m.W2)(),G=(0,j.cI)({defaultValues:{fromTokenAddress:"",toTokenAddress:"",toastId:b.useMemo((function(){return(0,ze.w)()}),[])},mode:"all",criteriaMode:"all"}),H=G.handleSubmit,Y=G.setValue,J=G.reset,Q=G.control,X=G.formState,$=X.isSubmitting,ee=X.dirtyFields,te=X.isDirty,ne=G.getValues,re=(0,E.JT)().openModal,ie=(0,m.Bn)(),ae=ie.getTokenInfo,oe=ie.newTokenListMap,se=ie.connection,le=(0,j.qo)({control:Q}),ce=le.fromTokenAddress,ue=le.fromValue,de=le.toValue,me=le.toTokenAddress,fe=(0,m.mQ)(),xe=fe.slippage,ve=fe.slippageSettings,be=fe.setSlippageSettings,je=(0,y.Z)(T.J,null),ye=(0,a.Z)(je,2),we=(ye[0],ye[1]),ke=(0,pe.gs)(),Se=b.useMemo((function(){return{fromTokenInfo:ae(ce),toTokenInfo:ae(me)}}),[ae,ce,me]),Pe=Se.fromTokenInfo,Ce=Se.toTokenInfo;b.useEffect((function(){var e=[];t&&(e.push(t.address),Y("fromTokenAddress",t.address)),n&&(e.push(n.address),Y("toTokenAddress",n.address)),V(e)}),[Y,V,t,n]);var Le=b.useRef(!1),Ve=b.useMemo((function(){return!1===Le.current?Pe&&null!==ue&&void 0!==ue&&ue.value?g().BigInt(new v.Z(ue.value).mul(Math.pow(10,Pe.decimals)).floor().toFixed()):g().BigInt(0):Ce&&null!==de&&void 0!==de&&de.value?g().BigInt(new v.Z(de.value).mul(Math.pow(10,Ce.decimals)).floor().toFixed()):g().BigInt(0)}),[Pe,null===ue||void 0===ue?void 0:ue.value,Ce,null===de||void 0===de?void 0:de.value]),Qe=Le.current?Ae.jr.ExactOut:Ae.jr.ExactIn,Xe=b.useMemo((function(){if(Qe!==Ae.jr.ExactOut)return I?void 0:64}),[Qe,I]),$e=b.useState((function(){return Math.random()>.5})),et=(0,a.Z)($e,1)[0],tt=(0,m.jB)(),nt=b.useMemo((function(){return zt(zt({amount:Ve,inputMint:ce?new x.PublicKey(ce):void 0,outputMint:me?new x.PublicKey(me):void 0,maxAccounts:Xe,swapMode:Qe},"minimum-output"===ve.mode?{slippageBps:0}:"dynamic"===ve.mode?{slippageBps:Math.ceil(100*Number(ve.maxDynamicSlippagePct))}:"fixed"===ve.mode?{slippageBps:Math.ceil(100*Number(xe)),computeAutoSlippage:!0}:void 0),{},{minimizeSlippage:Boolean("true"===qt.env.NEXT_PUBLIC_IS_EDGE)})}),[Ve,ce,Xe,xe,ve,Qe,me]),rt=(0,d.OO)(nt),at=rt.quoteResponseMeta,pt=rt.loading,mt=rt.refresh,ft=(rt.fetchQuote,rt.fetchSwapTransaction),xt=rt.lastRefreshTimestamp,vt=rt.programIdToLabelMap,ht=rt.programIdsExcluded,jt=rt.setProgramIdsExcluded,St=rt.error,Nt=(0,_e.KO)(qe.quotedSlippage),Tt=(0,a.Z)(Nt,2),Pt=Tt[0],Ct=Tt[1];b.useEffect((function(){null!==at&&void 0!==at&&at.quoteResponse.slippageBps?Ct(null===at||void 0===at?void 0:at.quoteResponse.slippageBps):Ct(void 0)}),[Pt,null===at||void 0===at?void 0:at.quoteResponse.slippageBps,Ct,xe]);var Mt=(0,_e.KO)(Fe.j.amms),At=(0,a.Z)(Mt,2)[1];b.useEffect((function(){if(vt&&vt.size>0){var e=(0,i.Z)(vt.entries()).map((function(e){var t=(0,a.Z)(e,2),n=t[0];return{label:t[1],ammProgramId:n}}));At(e)}}),[vt,At]);var Ot=(0,_e.KO)(Fe.j.excludedAmms),Zt=(0,a.Z)(Ot,1)[0];b.useEffect((function(){jt(new Set(Zt))}),[Zt,jt]),b.useEffect((function(){if(Y("selectedRoute",at),at){if(!Ce)return;if(!1===Le.current){var e=new v.Z(at.quoteResponse.outAmount.toString()||"0").div(Math.pow(10,Ce.decimals)),t=e.toFixed()||"",n=e?e.toNumber():e;Y("toValue",{formattedValue:t,value:t,floatValue:n})}else{if(!Pe)return;var r=new v.Z(at.quoteResponse.inAmount.toString()||"0").div(Math.pow(10,Pe.decimals)),i=r.toFixed()||"",a=r?r.toNumber():r;Y("fromValue",{formattedValue:i,value:i,floatValue:a})}}else Y(!1===Le.current?"toValue":"fromValue",void 0)}),[at,Ce,Y,Pe]),(0,U.Gl)(pt||null===at||void 0===at?void 0:at.quoteResponse,ce,me),b.useEffect((function(){pt&&Y(!1===Le.current?"toValue":"fromValue",{formattedValue:"",value:"",floatValue:0})}),[pt,Y]);var Rt=(0,Be.R3)(),Dt=(0,_e.KO)(Re.yz),_t=(0,a.Z)(Dt,1)[0],Vt=b.useState(),Et=(0,a.Z)(Vt,2),Ft=Et[0],Wt=Et[1],Qt=(0,f.lm)().toast,Xt=b.useCallback(function(){var e=(0,r.Z)(l().mark((function e(t){var n,o,c,f,x,h,g,b,j,y,w,S,N,T,P,O,R,D,L,V,E,F,z,U,G,H;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.selectedRoute,c=t.fromTokenAddress,f=t.toTokenAddress,x=t.toastId,h=t.minimumOutput,s&&s.adapter.publicKey&&o&&c&&f){e.next=3;break}return e.abrupt("return");case 3:if(null===K||void 0===K||K.persistReferrer(),g={startTime:void 0},b=o,j=(null===(n=_[c||""])||void 0===n?void 0:n.usd)||0,y=new v.Z((null===ue||void 0===ue?void 0:ue.value)||0).mul(j).toString(),w={quoteResponseMeta:b.original,wallet:s.adapter.name,inputAmountInUSD:y,ammLabels:(0,i.Z)((0,Te.Kc)(b.quoteResponse.routePlan).labels),slippageSettings:ve,jupiterParams:(0,Ge.w_)(nt),jupiterConfigProps:(0,Ge.w_)({restrictIntermediateTokens:tt.restrictIntermediateTokens,onlyDirectRoutes:tt.onlyDirectRoutes,useWSol:tt.useWSol,asLegacyTransaction:tt.asLegacyTransaction,allowOptimizedWrappedSolTokenAccount:et}),globalPriority:{prioritizationFee:ke.userMaxFeeInSOL,prioritizationFeeLamports:ke.userMaxFeeInLamports,isRequestingMaxFee:ke.isRequestingMaxFee,priorityLevel:ke.priorityLevel,broadcastMode:ke.broadcastMode}},(0,We.Kz)(Ee.NR,zt({},w)),S=ae(c),N=ae(f),T=function(e){var t=e.txid,n=e.inputMint,r=e.outputMint,i=e.transactionResponse;try{var l,c,u=(0,Ae.Od)({txid:t,inputMint:n,outputMint:r,hasWrappedSOL:M,transactionResponse:i,user:s.adapter.publicKey}),d=(0,a.Z)(u,2),p=d[0],m=d[1],f=S.symbol,x=C.uf.format(new v.Z(p).div(Math.pow(10,S.decimals))),h=N.symbol,g=C.uf.format(new v.Z(m).div(Math.pow(10,N.decimals))),b=m?new v.Z(m).div(o.quoteResponse.outAmount.toString()).minus(1).mul(-1e4).toNumber():null,j=b?new v.Z(b).div(100).toFixed(2):null;return{sourceTokenBalanceChange:p,destinationTokenBalanceChange:m,inputSymbol:f,inputAmount:x,outputSymbol:h,outputAmount:g,incurredSlippageBps:b,incurredSlippagePct:j,feeInSOL:null!==(l=i.meta)&&void 0!==l&&l.fee?new v.Z(null===(c=i.meta)||void 0===c?void 0:c.fee).div(Math.pow(10,9)):void 0}}catch(y){return null}},P=[],Wt(u.ag._("Preparing swap")),R=function(){var e=(0,r.Z)(l().mark((function e(t){var n,r,s,h,j;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=b.quoteResponse,r=n.inputMint,s=n.outputMint,!("error"in t)){e.next=5;break}console.error("Error in swapTransactionResponse",t.error),e.next=9;break;case 5:return e.next=7,Rt(t.swapTransaction,{blockhash:t.blockhash,idl:Ae.GS,idlProgramId:d.Cc,lastValidBlockHeight:t.lastValidBlockHeight,skipPreflight:!0},{referenceFee:function(){var e=(0,p.eD)(t.swapTransaction);return e?Number(e):_t.jup.m&&_t.jup.h&&_t.jup.vh?"MEDIUM"===ke.priorityLevel?_t.jup.m:"HIGH"===ke.priorityLevel?_t.jup.h:"VERY_HIGH"===ke.priorityLevel?_t.jup.vh:void 0:_t.swapFee}(),minimumFee:Re.uo,toastId:x,submittingMessage:null,onSending:function(){g.startTime=Date.now(),Wt(void 0)},autoResolveOnProcessed:!0,resolveSuccessTitleAndDescription:function(e,n){var i;P=(0,Ae.vw)(e);var a=T({txid:n,inputMint:r,outputMint:s,transactionResponse:e}),o=u.ag._("Swap successful");a&&(o=u.ag._("Successfully swapped {0} {1} for {2} {3}",{0:a.inputAmount,1:a.inputSymbol,2:a.outputAmount,3:a.outputSymbol}));var l,c=zt(zt({},w),{},{feeInSOL:null===a||void 0===a?void 0:a.feeInSOL,txid:n,sourceTokenBalanceChange:null===a||void 0===a?void 0:a.sourceTokenBalanceChange,destinationTokenBalanceChange:null===a||void 0===a?void 0:a.destinationTokenBalanceChange,incurredSlippage:null===a||void 0===a?void 0:a.incurredSlippageBps,events:Yt(P),computeUnitsConsumed:null===(i=e.meta)||void 0===i?void 0:i.computeUnitsConsumed,dynamicSlippageReport:t.dynamicSlippageReport});(g.startTime&&(0,We.Kz)(Ee.o1,zt(zt({},c),{},{ping:(Date.now()-g.startTime)/1e3})),null!==K&&void 0!==K&&K.referrerAccount)&&(0,We.Kz)(Ee.Yl,zt(zt({},c),{},{referrerAccount:K.referrerAccount.toString(),feeBps:null===(l=K.feeBps)||void 0===l?void 0:l.toString()}));return{title:"",description:o}},resolveErrorTitleAndDescription:function(e,n){var o=(0,Ae.IS)(e),l=o.message,c=o.code,p=o.programIds,f=o.txid,x=f&&null!==n&&void 0!==n&&n.transactionResponse?T({txid:f,inputMint:r,outputMint:s,transactionResponse:n.transactionResponse}):null,h=function(){var e,t=(null===p||void 0===p?void 0:p.reduce((function(e,t){var n=vt.get(t);return n?[n,t]:e}),["",""]))||["",""],n=(0,a.Z)(t,2),r=n[0],o=n[1],s=c&&(null===(e={LBUZKhRxPF3XUpBCjp4YzTKgLccjZhTSDM9YuVaPwxo:[6001,3005],CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK:[6019],whirLbMiicVdio4qvUfM5KAg6Ct8VwpYzGff3uctyCc:[6023]}[o])||void 0===e?void 0:e.includes(c));if(r&&!s)return re((0,Z.jsx)(wt,{ammName:r,excludeAmm:function(){jt((function(e){return I?new Set([].concat((0,i.Z)(Zt),[o])):(e.add(o),new Set([].concat((0,i.Z)(Zt),(0,i.Z)(e))))}))}}),{noCloseButton:!1}),{title:u.ag._("{faultyAmmLabel} error",{faultyAmmLabel:r}),description:c?u.ag._("A custom error: {code} was returned. Please contact Jupiter in the discord with the transaction signature for help.",{code:c}):l,shouldShowFeedbackLink:!0};var f=d.Cc.toBase58(),h=d.sv;if(null!==p&&void 0!==p&&p.some((function(e){return e===f}))||s){if(c===d.sv.SlippageToleranceExceeded.code||s){var g=function(){var e,t,n=O&&"dynamicSlippageReport"in O&&null!==(e=O.dynamicSlippageReport)&&void 0!==e&&e.slippageBps?new v.Z(null===(t=O.dynamicSlippageReport)||void 0===t?void 0:t.slippageBps).div(100):null,r=null!==x&&void 0!==x&&x.incurredSlippagePct?Number(null===x||void 0===x?void 0:x.incurredSlippagePct):null;return r?"fixed"===ve.mode?{title:u.ag._("Slippage reached. Please try again."),description:(0,Z.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,Z.jsx)("p",{children:u.ag._("The final slippage is {incurredSlippagePct} and it has exceeded your fixed slippage.",{incurredSlippagePct:r})}),(0,Z.jsx)("p",{children:u.ag._("Please try again or increase your fixed slippage.")})]})}:"minimum-output"===ve.mode?{title:u.ag._("Slippage reached"),description:(0,Z.jsx)("div",{className:"flex flex-col gap-y-2",children:(0,Z.jsx)("p",{children:u.ag._("Please try a lower minimum amount.")})})}:r>=m.oo?{title:u.ag._("Please try with higher fixed slippage."),description:(0,Z.jsxs)("div",{className:"flex flex-col gap-y-2 mb-4",children:[(0,Z.jsx)("p",{children:u.ag._("The final slippage was very high at {incurredSlippagePct}%.",{incurredSlippagePct:r})}),(0,Z.jsx)("p",{children:u.ag._("We recommend using fixed slippage to get your transaction through.")}),(0,Z.jsx)(Jt,{isLaunchPage:B})]})}:r<ve.maxDynamicSlippagePct?{title:u.ag._("Slippage reached. Please try again."),description:n?(0,Z.jsx)("div",{className:"flex flex-col gap-y-2",children:(0,Z.jsx)("p",{children:"The final slippage was ".concat(r," and it has exceeded the optimized slippage at ").concat(n,"%.")})}):(0,Z.jsx)("div",{className:"flex flex-col gap-y-2",children:(0,Z.jsx)("p",{children:"The final slippage was ".concat(r,".")})})}:r>ve.maxDynamicSlippagePct?{title:u.ag._("Please try with higher max dynamic slippage."),description:(0,Z.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,Z.jsx)("p",{children:u.ag._("Your max slippage is too low, and the final slippage {incurredSlippagePct}% had exceeded your max slippage.",{incurredSlippagePct:r})}),(0,Z.jsx)("p",{children:u.ag._("Please increase it and try again.")}),(0,Z.jsx)(Jt,{isLaunchPage:B})]})}:((0,We.Kz)(Ee.A$,zt(zt({},w),{},{incurredSlippagePct:r,dynamicSlippageSubmittedPct:n})),n?{title:u.ag._("Slippage reached. Please try again."),description:u.ag._("The final slippage was {incurredSlippagePct}% and it has exceeded the optimized slippage at {dynamicSlippageSubmittedPct}%.",{incurredSlippagePct:r,dynamicSlippageSubmittedPct:n})}:{title:u.ag._("Slippage reached. Please try again."),description:u.ag._("The final slippage was {incurredSlippagePct}%.",{incurredSlippagePct:r})}):{title:u.ag._("Slippage reached"),description:u.ag._("Slippage tolerance exceeded. Try again or change your slippage limit.")}}();return{title:g.title,description:g.description,shouldShowFeedbackLink:!1}}if(c===h.BalancesNotExtractedProperly.code)return{title:u.ag._("Unable to extract balances. Check transaction"),shouldShowFeedbackLink:!0};if(c===h.TransactionNotConfirmed.code)return{title:u.ag._("Transaction not confirmed"),description:u.ag._("Transaction has expired. Increasing transaction priority fee may help."),shouldShowFeedbackLink:!1,shouldShowUpdatePriorityFee:!1}}switch(c){case h.InsufficientSOL.code:return{title:u.ag._("Insufficient SOL"),description:u.ag._("You do not have enough SOL to pay the transaction fee and any related SOL account deposits needed to execute the swap."),shouldShowFeedbackLink:!0};case h.FrozenAccount.code:return{title:u.ag._("Frozen Token Account"),description:u.ag._("Your token account is frozen. Contact the token project about it."),shouldShowFeedbackLink:!0}}return{title:l||(null===c||void 0===c?void 0:c.toString())||"",description:c?u.ag._("A custom error: {code} was returned. Please contact Jupiter in the discord with the transaction signature for help.",{code:c}):l,shouldShowFeedbackLink:!0}}();return(0,We.Kz)(Ee.xp,zt(zt(zt(zt({txid:f,code:c,message:l,programIds:p},w),h),{},{sourceTokenBalanceChange:null===x||void 0===x?void 0:x.sourceTokenBalanceChange,destinationTokenBalanceChange:null===x||void 0===x?void 0:x.destinationTokenBalanceChange,incurredSlippage:null===x||void 0===x?void 0:x.incurredSlippageBps,events:Yt(P)},g.startTime?{pingInSecond:(Date.now()-g.startTime)/1e3}:void 0),{},{feeInSOL:null===x||void 0===x?void 0:x.feeInSOL,dynamicSlippageReport:t.dynamicSlippageReport})),h}});case 7:(h=e.sent).success?(we({fromPair:S.address,toPair:N.address}),A.invalidateQueries({queryKey:[m.gj]})):"error"in h&&h.error&&4001===(null===(j=h.error.error)||void 0===j?void 0:j.code)&&Bt(se,t,o,0).then((function(e){var n=e.context,r=e.value;(0,We.Kz)(Ee.Nc,zt(zt({error:h.error.error},w),{},{rejectedSimulationSlippage:null===r||void 0===r?void 0:r.toNumber(),quoteContextSlot:b.quoteResponse.contextSlot,rejectedSimulationSlot:null===n||void 0===n?void 0:n.slot,dynamicSlippageReport:t.dynamicSlippageReport}))})).catch((function(){}));case 9:q(),W([c,f,k.W4]),mt();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prev=16,D=null===s||void 0===s?void 0:s.adapter.publicKey){e.next=20;break}return e.abrupt("return");case 20:if(L={quoteResponseMeta:b,userPublicKey:D,wrapUnwrapSOL:!M,allowOptimizedWrappedSolTokenAccount:et,prioritizationFeeLamports:{priorityLevelWithMaxLamports:{maxLamports:ke.userMaxFeeInLamports,global:!1,priorityLevel:function(){switch(ke.priorityLevel){case"MEDIUM":return"medium";case"HIGH":return"high";case"VERY_HIGH":return"veryHigh"}}()}}},"fixed"!==ve.mode){e.next=27;break}return e.next=24,ft(L);case 24:O=e.sent,e.next=49;break;case 27:if("minimum-output"!==ve.mode||!h){e.next=35;break}return b.quoteResponse.outAmount=h,b.original.outAmount=h.toString(),e.next=32,ft(L);case 32:O=e.sent,e.next=49;break;case 35:if("dynamic"!==ve.mode){e.next=49;break}return L.dynamicSlippage="dynamic"===ve.mode?{maxBps:Math.round(100*ve.maxDynamicSlippagePct)}:void 0,e.next=39,ft(L);case 39:if("swapTransaction"in(O=e.sent)){e.next=42;break}throw new Error("No swapTransaction in swapTransactionResponseToUse");case 42:if(F=new v.Z((null===(V=O.dynamicSlippageReport)||void 0===V?void 0:V.simulatedIncurredSlippageBps)||0),Boolean(F&&new v.Z(-1*ve.maxDynamicSlippagePct*100).gte(F))&&(z=function(){var e=new v.Z(F).mul(-1).div(100).toNumber();return ve.maxDynamicSlippagePct<m.oo?{title:u.ag._("Please try with higher max slippage."),description:(0,Z.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,Z.jsx)("p",{children:u.ag._("Your max slippage is too low, the simulated slippage was {simulatedIncurredSlippagePct}%.",{simulatedIncurredSlippagePct:e})}),(0,Z.jsx)("p",{children:u.ag._("You can still submit your transaction but it might fail.")}),(0,Z.jsx)(Jt,{isLaunchPage:B})]})}:{title:u.ag._("Please try with a higher fixed slippage."),description:(0,Z.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,Z.jsx)("p",{children:u.ag._("The simulated slippage was very high at {simulatedIncurredSlippagePct}%.",{simulatedIncurredSlippagePct:e})}),(0,Z.jsx)("p",{children:u.ag._("We recommend using fixed slippage to get your transaction through.")}),(0,Z.jsx)(Jt,{isLaunchPage:B})]})}}(),U=z.title,G=z.description,Qt({title:U,description:G,variant:Ke.Lb.INFO,duration:1e4})),H=null===(E=O.dynamicSlippageReport)||void 0===E?void 0:E.slippageBps){e.next=48;break}throw new Error("Could not optimise slippage");case 48:Wt((0,Z.jsxs)("div",{children:[u.ag._("Optimized slippage")," ",new v.Z(H).div(100).toDP(2).toNumber(),"%"]}));case 49:e.next=54;break;case 51:e.prev=51,e.t0=e.catch(16),console.log("Error getting swap transaction",e.t0);case 54:if(e.prev=54,O){e.next=57;break}throw new Error("No swapTransactionResponseToUse");case 57:return setTimeout((function(){Wt(void 0)}),1500),e.next=60,R(O);case 60:e.next=65;break;case 62:e.prev=62,e.t1=e.catch(54),console.log("Error performing swap",e.t1);case 65:return e.prev=65,Y("toastId",(0,ze.w)()),e.finish(65);case 68:case"end":return e.stop()}}),e,null,[[16,51],[54,62,65,68]])})));return function(t){return e.apply(this,arguments)}}(),[I,se,Zt,Rt,ft,null===ue||void 0===ue?void 0:ue.value,ae,ke.broadcastMode,ke.isRequestingMaxFee,ke.userMaxFeeInSOL,ke.userMaxFeeInLamports,ke.priorityLevel,B,tt,nt,re,vt,A,_t.jup.h,_t.jup.m,_t.jup.vh,_t.swapFee,K,W,mt,q,we,jt,Y,ve,Qt,_,M,s,et]),$t=(0,T.V)();(0,w.Z)((function(){$t[0]&&$t[1]&&(Pe&&Pe.address!==$t[0].address&&Y("fromTokenAddress",$t[0].address),Ce&&Ce.address!==$t[1].address&&Y("toTokenAddress",$t[1].address))}),$t);var en=(0,N.Z)();b.useEffect((function(){en&&Y("fromValue",{formattedValue:en,value:en,floatValue:Number(en)})}),[Y,en]);var tn=b.useRef("");b.useEffect((function(){((!1===Le.current?ee.fromValue:ee.toValue)||ee.toTokenAddress||ee.fromTokenAddress)&&(tn.current="")}),[ee.fromValue,ee.toTokenAddress,ee.fromTokenAddress,ee.toValue]);var nn=b.useCallback((function(){if(!pt&&Ce&&Pe){var e=ne(),t=e.fromTokenAddress,n=e.toTokenAddress,r=e.fromValue,i=e.toValue,a=tn.current;!tn.current&&Number((null===r||void 0===r?void 0:r.floatValue)||0)>0&&null!==at&&void 0!==at&&at.quoteResponse&&(a=!1===Le.current?new v.Z(at.quoteResponse.outAmount.toString()).div(Math.pow(10,Ce.decimals)).toString():new v.Z(at.quoteResponse.inAmount.toString()).div(Math.pow(10,Pe.decimals)).toString()),J(zt({fromTokenAddress:t,toTokenAddress:n},!1===Le.current?{fromValue:{value:a,floatValue:Number(a),formattedValue:a}}:{toValue:{value:a,floatValue:Number(a),formattedValue:a}})),setTimeout((function(){tn.current=!1===Le.current?(null===r||void 0===r?void 0:r.value)||"":(null===i||void 0===i?void 0:i.value)||""}),0),z(Ce,Pe)}}),[pt,Ce,Pe,null===at||void 0===at?void 0:at.quoteResponse,z,ne,J]),rn=(0,m.FB)(ce,void 0,M).balance,an=b.useCallback((function(){var e=new v.Z(rn);ce===k.W4.toBase58()&&(e=e.minus(Ze.WO)),Y("fromValue",{floatValue:e.toNumber(),formattedValue:e.toString(),value:e.toString()})}),[rn,ce,Y]),on=(0,_e.KO)(L.dS),sn=(0,a.Z)(on,1)[0].TARGET_MINT,ln=(0,j.qo)({control:Q,name:"selectedRoute"}),cn=(0,Ue.QX)({disabled:!B}).claimTimes,un=b.useMemo((function(){var e=null===ln||void 0===ln?void 0:ln.quoteResponse.contextSlot;return!(e||!oe.has(ce)&&!oe.has(me))||(me===sn&&e&&cn?e<(null===cn||void 0===cn?void 0:cn.enableSlot):void 0)}),[sn,null===ln||void 0===ln?void 0:ln.quoteResponse.contextSlot,me,cn,ce,oe]),dn=b.useRef(null),pn=function(e){var t=e.fromTokenInfo,n=e.toTokenInfo,r=e.quoteResponse,i=e.isLaunchPage,a=(0,m.Bn)().newTokenListMap,o=(0,Je.j)([t,n].filter(Boolean)).data,s=(0,dt.A)(["JupSOL"]).data,l=(0,U.tX)(),c=(0,m.W2)(),u=he(r,i).priceImpactPct;return(0,b.useMemo)((function(){var e={fromToken:[],toToken:[],additional:[]};if(t&&((0,ge.tr)(t)&&e.fromToken.push((0,Z.jsx)(ut,{tokenInfo:t},"unknown"+t.address)),a.has(t.address)&&e.fromToken.push((0,Z.jsx)(lt,{tokenInfo:t},"new"+t.address)),s&&s.apys[t.symbol]&&e.fromToken.push((0,Z.jsx)(st,{apyInPercent:s.apys[t.symbol]},"lst"+t.symbol))),n&&((0,ge.tr)(n)&&e.toToken.push((0,Z.jsx)(ut,{tokenInfo:n},"unknown"+n.address)),a.has(n.address)&&e.toToken.push((0,Z.jsx)(lt,{tokenInfo:n},"new"+n.address)),s&&s.apys[n.symbol]&&e.fromToken.push((0,Z.jsx)(st,{apyInPercent:s.apys[n.symbol]},"lst"+n.symbol))),o&&t&&n){var d=o[0]?(0,Ye.y)(o[0]):void 0,p=o[1]?(0,Ye.y)(o[1]):void 0,f=[],h=[];null!==d&&void 0!==d&&d.freezeAuthority&&!1===bt.includes(t.address)&&d.freezeAuthority===x.SystemProgram.programId.toString()===!1&&f.push(t),null!==d&&void 0!==d&&d.permanentDelegate&&h.push(t),null!==p&&void 0!==p&&p.freezeAuthority&&!1===bt.includes(n.address)&&p.freezeAuthority===x.SystemProgram.programId.toString()===!1&&f.push(n),null!==p&&void 0!==p&&p.permanentDelegate&&h.push(n),(f.length>0||h.length>0)&&e.additional.push((0,Z.jsx)(it,{freeze:f,permanent:h},"additional-suggestions")),(null===d||void 0===d?void 0:d.transferFee)&&e.additional.push((0,Z.jsx)(ct,{tokenInfo:t,dasAsset:o[0],transferFee:d.transferFee},"2022"+t.address)),(null===p||void 0===p?void 0:p.transferFee)&&e.additional.push((0,Z.jsx)(ct,{tokenInfo:n,dasAsset:o[1],transferFee:p.transferFee},"transfer-tax-"+n.address))}var g=u.gt(5),b=new v.Z(l.percent).gte(5);if(!i&&r&&t&&n&&(g||b)&&e.additional.unshift((0,Z.jsx)(gt,{quoteResponse:r,birdeyeRate:l.rate,isHighPriceImpact:g,priceDifferencePct:l.percent,isWarning:l.isWarning,isDanger:l.isDanger,fromTokenInfo:t,toTokenInfo:n})),null!==c&&void 0!==c&&c.referrerAccount){var j,y=(c.feeBps||0)>=m.hM;e.additional.push((0,Z.jsx)(ot,{shouldShowWarning:y},"being-referred-"+(null===(j=c.referrerAccount)||void 0===j?void 0:j.toString())))}return e}),[i,l,u,o,t,s,a,r,c,n])}({fromTokenInfo:Pe,toTokenInfo:Ce,quoteResponse:null===ln||void 0===ln?void 0:ln.quoteResponse,isLaunchPage:B});b.useEffect((function(){B||"minimum-output"===ve.mode&&be(m.NH)}),[B,be,ve.mode]);var mn=(0,_e.KO)(Fe.j.excludedAmms),fn=(0,a.Z)(mn,2),xn=(fn[0],fn[1]),vn=b.useCallback((function(e){e.stopPropagation(),xn([]),mt()}),[mt,xn]);return b.useMemo((function(){var e;return B?(0,Z.jsx)(Lt,{onSubmit:function(e){return H((function(t){return Xt(zt(zt({},t),e))}))()},refresh:mt,loading:pt,onClickMax:an,control:Q,setValue:Y,type:o,getValues:ne,fromTokenInfo:Pe,toTokenInfo:Ce,isSubmitting:$,notTradableYet:un,error:St,simulationButtonText:Ft}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("div",{className:"flex justify-end mb-2",children:(0,Z.jsx)(Gt,{refresh:mt,loading:pt})}),(0,Z.jsx)(Ut,{}),(0,Z.jsx)("div",{children:(0,Z.jsxs)("form",{onSubmit:H(Xt),children:[(0,Z.jsxs)("div",{className:"flex-col relative",children:[(0,Z.jsxs)("div",{className:(0,P.cn)("min-h-[124px] p-4 border border-transparent relative rounded-xl flex flex-col space-y-3","focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark",!1===Le.current?"bg-uiv2":"bg-uiv2-background"),children:[(0,Z.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Z.jsx)("span",{className:"text-sm font-medium text-v2-lily",children:(0,Z.jsx)(c.cC,{id:"You're Selling"})}),(0,Z.jsxs)("div",{className:"flex space-x-2",children:[(0,Z.jsx)(Me,{control:Q,name:"fromTokenAddress",useWSol:M}),(0,Z.jsx)(Oe.oi,{mint:ce,onBalanceChange:function(e){Le.current=!1,Y("fromValue",{floatValue:e.toNumber(),formattedValue:e.toString(),value:e.toString()})}})]})]}),(0,Z.jsxs)("div",{ref:dn,className:"flex-1 flex items-center space-x-2",children:[(0,Z.jsx)(F,{getValues:ne,control:Q,modalId:Ht,name:"fromTokenAddress"}),(0,Z.jsx)("span",{className:"flex-1 text-right",children:(0,Z.jsx)(R,{control:Q,name:"fromValue",loading:!!Le.current&&pt,onKeyDown:function(e){Le.current=!1},placeholder:te?Qe===Ae.jr.ExactIn?"0.00":"":"0.00",tokenAmountClassname:"font-semibold text-v2-lily",usdValueClassname:"!text-xs font-normal text-v2-lily/50"})})]})]}),Pe&&(0,Z.jsx)(Kt,{tokenInfo:Pe}),(0,Z.jsxs)("div",{className:"relative flex justify-center my-1",children:[(0,Z.jsx)("hr",{className:"absolute w-full border-uiv2/50 top-[calc(50%-1px)] -z-0"}),(0,Z.jsx)("div",{className:"inline-block z-10",children:(0,Z.jsx)("button",{type:"button",className:(0,P.cn)("group/flip bg-v2-background-page w-8 h-8 rounded-full cursor-pointer flex flex-col justify-center border-[3px] border-uiv2 text-v2-lily/50","dark:hover:border-v2-primary dark:hover:shadow-swap-input-dark"),onClick:nn,children:(0,Z.jsx)("span",{className:"w-full text-v2-lily/50 fill-current flex justify-center transition-none group-hover/flip:text-v2-primary/50 dark:group-hover/flip:text-v2-primary",children:(0,Z.jsx)(Ie.Z,{})})})})]}),(0,Z.jsxs)("div",{className:(0,P.cn)("relative min-h-[124px]","p-4 border border-transparent relative rounded-xl flex flex-col space-y-3 group","focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark","hover:bg-v2-background-dark",!0===Le.current?"bg-uiv2":"bg-uiv2-background"),children:[(0,Z.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Z.jsx)("span",{className:"text-sm font-medium text-v2-lily",children:(0,Z.jsx)(c.cC,{id:"You're Buying"})}),(0,Z.jsx)(Me,{control:Q,name:"toTokenAddress",useWSol:M})]}),(0,Z.jsxs)("div",{className:"flex-1 flex items-center space-x-2",children:[(0,Z.jsx)(F,{getValues:ne,control:Q,modalId:Ht,name:"toTokenAddress"}),(0,Z.jsx)("span",{className:"flex-1 text-right",children:(0,Z.jsx)(R,{control:Q,name:"toValue",loading:!Le.current&&pt,onKeyDown:function(e){e.metaKey||e.ctrlKey||"Meta"===e.key||"Control"===e.key||"Alt"===e.key||"Shift"===e.key||(Le.current=!0)},onPaste:function(){Le.current=!0},placeholder:te?Qe===Ae.jr.ExactOut?"0.00":"":"0.00",tokenAmountClassname:"font-semibold text-v2-lily",usdValueClassname:"!text-xs font-normal text-v2-lily/25"})})]})]}),Ce&&(0,Z.jsx)(Kt,{tokenInfo:Ce})]}),(0,Z.jsx)("div",{className:"mt-2 flex gap-x-1",children:(0,Z.jsx)(Te.ZP,{loading:pt,control:Q})}),Le.current&&(0,Z.jsx)(kt,{}),(0,Z.jsx)(He,{loading:pt,listOfSuggestions:pn}),(0,Z.jsx)(It,{simulationButtonText:Ft,loading:pt,control:Q,error:St,moreErrors:{notTradableYet:un}}),ht.size>0&&(0,Z.jsxs)("div",{className:"mt-2 flex gap-x-1 text-v2-lily/50 text-xs",children:[(0,Z.jsx)("div",{children:u.ag._("{0} amms are being excluded.",{0:Zt.length})}),(0,Z.jsx)("button",{type:"button",className:"underline",onClick:vn,children:"Clear all"})]})]})}),(0,Z.jsx)(Ne,{loading:pt,control:Q,intervalRefresher:(0,Z.jsx)(D.Z,{value:null===(e=ne().fromValue)||void 0===e?void 0:e.floatValue,isSubmitting:$,lastRefreshTimestamp:xt,refresh:mt})})]})}),[Q,St,Zt.length,ce,Pe,ne,H,te,B,$,xt,pn,pt,un,an,nn,Xt,ht.size,mt,vn,Y,Ft,Qe,Ce,o,M])}},96065:function(e,t,n){n(93981);var r=n(29541);t.Z=function(e){var t=e.className;return(0,r.jsx)("svg",{className:t,width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M4.10201 1.28172L8.80544 5.75191C8.94178 5.88275 8.94178 6.1008 8.80544 6.23164L4.10201 10.7018C3.96568 10.8327 3.73846 10.8327 3.60213 10.7018L3.10225 10.2221C2.96592 10.0913 2.96592 9.87321 3.10225 9.74237L6.80592 6.23164C6.94225 6.1008 6.94225 5.88275 6.80592 5.75191L3.12497 2.24118C2.98864 2.11034 2.98864 1.89229 3.12497 1.76145L3.62485 1.28172C3.76118 1.17269 3.96568 1.17269 4.10201 1.28172Z",fill:"currentColor"})})}},24684:function(e,t,n){n.d(t,{tX:function(){return P},Gl:function(){return k},on:function(){return N},gJ:function(){return T}});var r=n(63956),i=n(93981),a=n(13838),o=n(9364),s=n(3011),l=n(1517),c=n(27195),u=n(8857),d=n.n(u),p=n(41144),m=n(59295),f=n(45009);var x=n(72215),v=n(25224),h=n(44495);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=(0,o.cn)({inputTokenInfo:void 0,outputTokenInfo:void 0}),y=(0,o.cn)(null),w=(0,o.cn)({isCheaper:!1,isMoreExp:!1,isWithinTwoPercent:!1,isWithinFivePercent:!1,isDanger:!1,isWarning:!1,percent:0,formattedPercent:"",rate:null,rateDiff:null,apiURL:""}),k=function(e,t,n){var r=(0,x.Bn)().getTokenInfo,o=(0,x.jB)().useWSol,l=(0,s.b9)(j),u=(0,s.b9)(y),g=(0,s.b9)(w),k=(0,x.gZ)().addressToTokenAccountMap,N=(0,i.useMemo)((function(){var e=new Map;return k.forEach((function(t,n){e.set(t.info.mint.toBase58(),t.pubkey.toBase58())})),e}),[k]),T=(0,i.useMemo)((function(){return[t?r(t):void 0,n?r(n):void 0]}),[r,t,n]),P=T[0],C=T[1];(0,h.Z)((function(){l({inputTokenInfo:P,outputTokenInfo:C})}),[P,C,l]),(0,h.Z)((function(){u(e?S(e,N,!o):null)}),[e,u,N,o]);var M=function(e){var t=e.inputAmount,n=e.inputTokenInfo,r=e.outputAmount,o=e.outputTokenInfo,s=(null===n||void 0===n?void 0:n.address)||"",l=(null===o||void 0===o?void 0:o.address)||"",u=(0,i.useMemo)((function(){return"https://birdeye-proxy.jup.ag/defi/multi_price?list_address=".concat(s,",").concat(l)}),[s,l]),x=(0,f.a)([u],(0,c.Z)(d().mark((function e(){var t,n,r,i,o,c,m;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s&&l){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,p.ZP.get(u).json();case 5:return o=e.sent,c=o.data,m=null!==(t=c[s])&&void 0!==t&&t.value&&null!==(n=c[l])&&void 0!==n&&n.value?new a.Z(null===(r=c[s])||void 0===r?void 0:r.value).div(new a.Z(null===(i=c[l])||void 0===i?void 0:i.value)):null,e.abrupt("return",m);case 11:throw e.prev=11,e.t0=e.catch(2),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,11]])}))),{refetchInterval:3e4,staleTime:3e4,keepPreviousData:!0}),v=(0,i.useMemo)((function(){return x.data?x.data.toNumber():null}),[x.data]),h=(0,i.useMemo)((function(){if(v&&n&&o&&t&&r){var e=(0,m.c)({inAmount:t,inputDecimal:n.decimals,outAmount:r,outputDecimal:o.decimals},!0);if(e&&v)return new a.Z(e).div(v).toDecimalPlaces(3).toNumber()}return null}),[v,t,r,n,o]);return(0,i.useMemo)((function(){return{rate:v,rateDiff:h,apiURL:u}}),[v,h,u])}({inputTokenInfo:P,outputTokenInfo:C,inputAmount:null===e||void 0===e?void 0:e.inAmount,outputAmount:null===e||void 0===e?void 0:e.outAmount}),I=(0,i.useMemo)((function(){var e=null===M||void 0===M?void 0:M.rateDiff;if("number"!==typeof e)return w.init;var t=e>=1,n=e<1,r=n?1-e<=.02:e-1<=.02,i=n?1-e<=.05:e-1<=.05,o=!t&&!r&&i,s=!t&&!i,l=n?new a.Z(1).minus(e).mul(100).toDecimalPlaces(3).toNumber():new a.Z(e).minus(1).mul(100).toDecimalPlaces(3).toNumber();return b({isCheaper:t,isMoreExp:n,isWithinTwoPercent:r,isWithinFivePercent:i,isWarning:o,isDanger:s,percent:l,formattedPercent:v.uf.format(l)},M)}),[M]);(0,h.Z)((function(){g(I)}),[g,I])},S=function(e,t,n){var r=new a.Z(e.priceImpactPct||0).mul(100).toNumber();return b({isHighImpact:r>5,isMediumImpact:r>=2&&r<=5,priceImpact:r},(0,l.rR)(e,t,new Map,n,!0))},N=function(){return(0,s.Dv)(j)},T=function(){return(0,s.Dv)(y)},P=function(){return(0,s.Dv)(w)}},16941:function(e,t,n){var r=n(93981),i=n(24201),a=n(29541);t.Z=function(e){var t=e.idx,n=e.itemsCount,o=e.className,s=void 0===o?"":o,l=e.onClick,c=e.highlighted,u=e.roundBorder,d=e.children,p="left"===u?"rounded-l-xl":"right"===u?"rounded-r-xl":void 0,m=(0,r.useMemo)((function(){if(t>0&&t<n)return"border-l border-black/10 dark:border-white/5"}),[t,n]);return(0,a.jsx)("button",{type:"button",className:(0,i.cn)("".concat("relative flex-1 py-4 px-1 text-white-50 bg-[#1B1B1E]"," ").concat(s," ").concat(m," relative"),c&&"border !border-v2-primary ".concat(p," bg-v2-primary/10 text-white")),onClick:l,children:(0,a.jsx)("div",{className:"h-full w-full leading-none flex justify-center items-center ".concat(c&&"text-v2-primary"),children:d})})}},35186:function(e,t,n){n.d(t,{yi:function(){return O},x9:function(){return A},ZP:function(){return L},zY:function(){return _}});var r=n(27195),i=n(63956),a=n(8857),o=n.n(a),s=n(73360),l=n(7761),c=n(93981),u=n(13215),d=n(87821),p=n(24201),m=n(72215),f=n(27177),x=n(25224),v=n(12866),h=n(25546),g=n(70006),b=n(71130),j=n(99438),y=n(11003),w=n(16941),k=n(29541),S=function(e){var t=e.newSlippage,n=e.onClickAccept,r=e.onClickReject;return(0,k.jsx)("div",{className:"max-w-[480px]",children:(0,k.jsxs)("div",{className:"p-6 pb-5 bg-jupiter-red",children:[(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsx)("h2",{className:"text-lg font-bold text-white",children:(0,k.jsx)(s.cC,{id:"Warning: High slippage!"})}),(0,k.jsx)("button",{className:"text-white/50",onClick:r,children:(0,k.jsx)(v.Z,{width:12,height:12})})]}),(0,k.jsxs)("div",{className:"text-white/75 mt-4 text-sm space-x-1",children:[(0,k.jsx)("span",{children:(0,k.jsx)(s.cC,{id:"Your transaction may be frontrun and result in an unfavourable trade."})}),(0,k.jsx)("span",{children:(0,k.jsx)(s.cC,{id:"The recommended slippage is between {MINIMUM_SUGGESTED_SLIPPAGE}% to {MAXIMUM_SUGGESTED_SLIPPAGE}%",values:{MINIMUM_SUGGESTED_SLIPPAGE:A,MAXIMUM_SUGGESTED_SLIPPAGE:O}})})]}),(0,k.jsx)("p",{className:"text-white/75 mt-6 text-sm",children:(0,k.jsx)(s.cC,{id:"Are you sure you want to set it to {newSlippage}%?",values:{newSlippage:t}})}),(0,k.jsx)("button",{type:"button",className:"mt-6 font-semibold w-full rounded-lg flex justify-center items-center p-4 border  dark:border-white/50 text-base bg-transparent hover:bg-black/40",onClick:n,children:(0,k.jsx)(s.cC,{id:"I know what I\u2019m doing. Let\u2019s go!"})}),(0,k.jsx)("button",{type:"button",className:"mt-3 font-semibold text-white w-full rounded-lg flex justify-center items-center p-4 bg-black/80 hover:bg-black text-base",onClick:r,children:(0,k.jsx)(s.cC,{id:"Cancel"})})]})})},N=n(11823),T=n(24628),P=n(64508),C=n.n(P);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=.5,O=5,Z=function(){return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("div",{className:"text-xs text-v2-lily/50 mt-4 self-start font-normal flex flex-col gap-y-2",children:[(0,k.jsx)("p",{children:l.ag._("Minimum output mode ignores slippage and attempt to swap at user desired rates instead.")}),(0,k.jsx)("p",{children:l.ag._("Min Out offers no sandwich protection, and should only be used for volatile, or newly launched tokens.")})]})})},R=function(e){var t=e.control,n=e.inputAutoSlippageRef;return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:"flex justify-between items-center text-xs",children:[(0,k.jsx)("div",{children:"Max Slippage:"}),(0,k.jsx)("div",{className:"flex items-center rounded-lg bg-[#1B1B1E] p-1",children:(0,k.jsx)("div",{onClick:function(){var e;null===(e=n.current)||void 0===e||e.focus()},className:(0,p.cn)("flex items-center justify-between gap-2 cursor-text w-[120px] h-9 text-white-50 bg-[#1B1B1E] px-2 relative bg-transparent","border !border-v2-primary rounded-lg bg-v2-primary/10"),children:(0,k.jsx)(u.Qr,{control:t,name:"maxCapSlippage",render:function(e){var t=e.field,r=t.onChange,i=t.value;return(0,k.jsx)(d.Z,{inputMode:"decimal",value:"undefined"===typeof i?"":i,decimalScale:2,isAllowed:function(e){return(e.floatValue||0)<=100&&(e.floatValue||0)>=0},allowedDecimalSeparators:[".",","],getInputRef:function(e){return n.current=e},allowNegative:!1,onValueChange:function(e){var t=e.value;r(t)},allowLeadingZeros:!1,isNumericString:!0,suffix:"%",className:"rounded-xl outline-none h-full  w-full bg-transparent !text-xs md:!text-sm placeholder:text-white/25 text-v2-primary text-right pointer-events-all",decimalSeparator:h.A5,placeholder:","===h.A5?"0,0%":"0.0%"})}})})})]}),(0,k.jsx)("div",{className:"text-xs text-v2-lily/50 mt-2 self-start font-normal h-8",children:(0,k.jsx)("p",{children:l.ag._("Set a max slippage you are willing to accept. Jupiter will intelligently minimize slippage, up  to your max.")})})]})},D=function(e){var t=e.control,n=e.SLIPPAGE_PRESET,r=e.setInputCustomFocused,i=e.setValue,a=e.inputCustomFocused,o=e.inputFixedSlippageRef,l=e.slippageInput;return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"text-xs font-semibold mb-2",children:"Slippage:"}),(0,k.jsxs)("div",{className:"flex items-center rounded-xl ring-1 ring-black/10 dark:ring-white/5 overflow-hidden text-sm h-10",children:[(0,k.jsx)(u.Qr,{name:"slippagePreset",control:t,render:function(e){var t=e.field,o=t.onChange,s=t.value;return(0,k.jsx)(k.Fragment,{children:n.map((function(e,t){var l=function(){var t=Number(e);return Number.isNaN(t)?e:x.uf.format(Number(e))+"%"}();return(0,k.jsx)(w.Z,{idx:t,itemsCount:n.length,className:"h-full",roundBorder:0===t?"left":void 0,highlighted:!a&&s===e,onClick:function(){r(!1),i("slippageInput",void 0),setTimeout((function(){o(e)}),0)},children:l},t)}))})}}),(0,k.jsxs)("div",{onClick:function(){var e;null===(e=o.current)||void 0===e||e.focus(),r(!0)},className:"flex items-center justify-between cursor-text w-[130px] h-full text-white-50 bg-[#1B1B1E] px-2 text-sm relative border-l border-white/5 ".concat(a||l?"border !border-v2-primary bg-v2-primary/10 rounded-xl":""),children:[(0,k.jsx)("span",{className:"text-xs ".concat((a||l)&&"text-v2-primary/70"),children:(0,k.jsx)(s.cC,{id:"Custom"})}),(0,k.jsx)(u.Qr,{name:"slippageInput",control:t,render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,k.jsx)(d.Z,{inputMode:"decimal",value:"undefined"===typeof r?"":r,decimalScale:2,isAllowed:function(e){return(e.floatValue||0)<=100&&(e.floatValue||0)>=0},allowedDecimalSeparators:[".",","],getInputRef:function(e){return o.current=e},allowNegative:!1,onValueChange:function(e){var t=e.value;n(t),"undefined"!==typeof t&&i("slippagePreset",void 0)},allowLeadingZeros:!1,isNumericString:!0,suffix:"%",className:"outline-none h-full w-full bg-transparent py-4 px-2 text-sm rounded-lg placeholder:text-white/25 text-v2-primary text-right pointer-events-all",decimalSeparator:h.A5,placeholder:","===h.A5?"0,00%":"0.00%"})}})]})]}),(0,k.jsx)("div",{className:"mt-2 text-xs text-v2-lily/50 flex flex-col gap-y-2",children:(0,k.jsx)("p",{children:(0,k.jsx)(s.cC,{id:"Set a fixed slippage you are willing to accept."})})})]})},_=function(e){var t=e.mode,n=e.slippageInput,r=e.maxCapSlippage,i=(0,c.useMemo)((function(){var e={isTooLow:!1,isTooHigh:!1,slippageSuggestionText:null,disabledByWarning:!1};switch(t){case"dynamic":var i=Number(r)<.1||"undefined"===typeof r||""===r,a=Number(r)>10;return i?{isTooLow:!0,isTooHigh:!1,slippageSuggestionText:l.ag._("Minimum slippage to set is {MINIMUM_REQUIRED_DYNAMIC_SLIPPAGE}%",{MINIMUM_REQUIRED_DYNAMIC_SLIPPAGE:.1}),disabledByWarning:!0}:a?{isTooLow:!1,isTooHigh:!0,slippageSuggestionText:(0,k.jsx)(s.cC,{id:"Your transaction may be frontrun and result in an unfavourable trade."}),disabledByWarning:!1}:e;case"fixed":return Number(n)>50?{isTooLow:!1,isTooHigh:!0,slippageSuggestionText:(0,k.jsx)(s.cC,{id:"Your transaction may be frontrun and result in an unfavourable trade."}),disabledByWarning:!1}:e;default:return e}}),[r,t,n]);return{isTooLow:i.isTooLow,isTooHigh:i.isTooHigh,slippageSuggestionText:i.slippageSuggestionText,disabledByWarning:i.disabledByWarning}},L=function e(t){var n=t.isLaunchPage,i=(0,m.MG)().constants.DEFAULT_SLIPPAGE,a=(0,g.JT)(),d=a.openModal,x=a.closeModal,h=(0,m.mQ)(),w=h.slippage,P=h.setSlippage,M=h.slippageSettings,A=h.setSlippageSettings,O=(0,c.useMemo)((function(){return["0.3",String(i),"1"]}),[i]),L=(0,c.useMemo)((function(){return O.find((function(e){return e===String(w)}))}),[O,w]),V=(0,u.cI)({defaultValues:I({},"undefined"!==typeof w?{slippageMode:M.mode,slippagePreset:L?String(L):void 0,slippageInput:L?void 0:String(w),maxCapSlippage:function(){if("dynamic"===M.mode)return M.maxDynamicSlippagePct?String(M.maxDynamicSlippagePct):void 0}()}:{})}),E=V.setValue,B=V.watch,F=V.control,q=V.handleSubmit,W=(0,f.lm)().toast,z=(0,c.useState)(!L),U=z[0],K=z[1],G=B("slippageMode"),H=B("slippageInput"),Y=B("slippagePreset"),J=B("maxCapSlippage"),Q=_({mode:G,slippageInput:H||Y,maxCapSlippage:J}),X=Q.slippageSuggestionText,$=Q.disabledByWarning,ee=(0,c.useRef)(),te=(0,c.useRef)(),ne=(0,c.useMemo)((function(){return!("fixed"!==G||!U||H)||$}),[$,U,H,G]),re=(0,c.useCallback)(function(){var t=(0,r.Z)(o().mark((function t(r){var i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!ne){t.next=2;break}return t.abrupt("return");case 2:if(i=Number(H||Y),"minimum-output"!==r.slippageMode){t.next=9;break}return A({mode:"minimum-output"}),x(),t.abrupt("return");case 9:if("dynamic"!==r.slippageMode){t.next=15;break}return A({mode:"dynamic",maxDynamicSlippagePct:Number(r.maxCapSlippage)}),x(),t.abrupt("return");case 15:"fixed"===r.slippageMode&&A({mode:"fixed",value:i});case 16:if(!X){t.next=24;break}return t.next=19,new Promise((function(t){setTimeout((function(){d((0,k.jsx)(S,{newSlippage:i,onClickAccept:function(){P(i),x(),t(!0)},onClickReject:function(){setTimeout((function(){d((0,k.jsx)(e,{isLaunchPage:n}))}),0),t(!1)}}),{canDismiss:!1,containerStyle:{background:"none"}})}),0)}));case 19:if(t.sent){t.next=22;break}return t.abrupt("return");case 22:t.next=25;break;case 24:P(i);case 25:W({render:function(e){return(0,k.jsx)(y.ZJ,I(I({},e),{},{variant:y.Lb.SUCCESS,title:l.ag._("Settings saved"),description:l.ag._("Slippage updated.")}))}}),x();case 27:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[ne,H,Y,X,W,x,A,d,P,n]);return(0,k.jsx)("div",{className:(0,p.cn)("max-w-md w-screen bg-[#1B2229] text-white"),children:(0,k.jsxs)("form",{onSubmit:q(re),className:"w-full",children:[(0,k.jsxs)("div",{className:"flex justify-between items-center px-5 pt-7",children:[(0,k.jsxs)("div",{className:"text-2xl font-semibold flex items-center gap-x-3",children:[(0,k.jsx)(s.cC,{id:"Slippage Settings"}),(0,k.jsx)(C(),{href:"https://station.jup.ag/guides/jupiter-swap/how-swap-works/how-swap-works#slippage",target:"_blank",className:"text-v2-lily/50 hover:text-v2-primary",children:(0,k.jsx)(T.Z,{width:16,height:16})})]}),(0,k.jsx)("div",{className:"text-black dark:text-white fill-current cursor-pointer",onClick:function(){return x()},children:(0,k.jsx)(v.Z,{width:16,height:16})})]}),(0,k.jsx)("div",{className:"mt-2 text-xs text-v2-lily/50 flex flex-col gap-y-2 px-5 pb-2",children:"dynamic"===G?(0,k.jsx)("p",{children:(0,k.jsx)(s.cC,{id:"Dynamic Slippage optimizes your slippage to safeguard against front-running while maximizing transaction success rate."})}):(0,k.jsx)("p",{children:"Fixed Slippage may help with transaction success rate, but exposes you to front-running. Try using Fixed mode with MEV Protect turned on."})}),(0,k.jsx)("div",{className:(0,p.cn)("flex flex-col justify-between transition-all","max-h-[70vh] h-[190px] ","overflow-y-auto hideScrollbar"),children:(0,k.jsxs)("div",{className:"mt-4 px-5 flex flex-col gap-y-4",children:[(0,k.jsxs)("div",{className:"flex flex-col",children:[(0,k.jsx)("div",{className:"text-xs font-semibold",children:"Mode"}),(0,k.jsx)(u.Qr,{control:F,name:"slippageMode",render:function(e){var t=e.field,r=t.onChange,i=t.value;return(0,k.jsxs)("div",{className:"flex justify-between items-center rounded-lg bg-[#1B1B1E] h-10 p-1 mt-1 gap-x-2",children:[n&&(0,k.jsx)(N.yw,{buttonActiveClassName:"!border-v2-primary !bg-v2-primary/10",labelActiveClassName:"text-v2-primary",onClick:function(){r("minimum-output"),U&&K(!1)},isActive:"minimum-output"===i,label:l.ag._("Min Out")}),(0,k.jsx)(N.yw,{buttonActiveClassName:"!border-v2-primary !bg-v2-primary/10",labelActiveClassName:"text-v2-primary",onClick:function(){r("dynamic"),U&&K(!1)},isActive:"dynamic"===i,label:l.ag._("Dynamic")}),(0,k.jsx)(N.yw,{buttonActiveClassName:"!border-v2-primary !bg-v2-primary/10",labelActiveClassName:"text-v2-primary",onClick:function(){r("fixed"),U&&K(!1)},isActive:"fixed"===i,label:l.ag._("Fixed")})]})}})]}),(0,k.jsxs)("div",{className:"text-sm my-2",children:["minimum-output"===G&&(0,k.jsx)(Z,{}),"dynamic"===G&&(0,k.jsx)(R,{control:F,inputAutoSlippageRef:ee}),"fixed"===G&&(0,k.jsx)(D,{control:F,SLIPPAGE_PRESET:O,setInputCustomFocused:K,setValue:E,inputCustomFocused:U,inputFixedSlippageRef:te,slippageInput:H}),(0,k.jsx)("div",{className:(0,p.cn)("fixed"===G?"block":"hidden")})]})]})}),(0,k.jsx)("div",{className:"px-4",children:X&&(0,k.jsx)(b.Z,{iconSize:14,className:"!text-jupiter-primary !px-0 !mt-2",message:X})}),(0,k.jsx)("div",{className:"px-5 pb-5 mt-4",children:(0,k.jsx)(j.Z,{type:"submit",className:"w-full border border-[#C7F284]/20",disabled:ne,size:"md",children:(0,k.jsx)(s.cC,{id:"Save Settings"})})})]})})}},81098:function(e,t,n){n.d(t,{j:function(){return i}});var r=n(9364),i={amms:(0,r.cn)([]),excludedAmms:(0,r.cn)([])}}}]);
//# sourceMappingURL=994-7bc49a3735c61c2d.js.map